
saizhansco@instance-20260124-111940:~/myapp/trivia-api$ sudo docker-compose logs -f
Attaching to trivia-api_nginx_1, trivia-api_app_1, trivia-api_postgres_1, trivia-api_frontend_1, trivia-api_redis_1
app_1       | 2026/02/11 18:17:05 Загрузка конфигурации из config/config.yaml
app_1       | 2026/02/11 18:17:05 Запуск применения миграций базы данных...
app_1       | 2026/02/11 18:17:05 Применяем миграции 'up'...
app_1       | 2026/02/11 18:17:05 Изменений в миграциях не найдено, база данных уже актуальна.
app_1       | 2026/02/11 18:17:05 Миграции базы данных завершены.
app_1       | 2026/02/11 18:17:05 Successfully connected to Redis
app_1       | 2026/02/11 18:17:05 [TokenManager] Initializing and ensuring JWT keys...
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [38.711ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:17:05.998' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | 2026/02/11 18:17:06 [TokenManager] Active JWT key ID: a488fda381b19b17 found in repository.
app_1       | 2026/02/11 18:17:06 [TokenManager] Access token expiry set to: 24h0m0s
app_1       | 2026/02/11 18:17:06 [TokenManager] Refresh token expiry set to: 720h0m0s
app_1       | 2026/02/11 18:17:06 [TokenManager] Max refresh tokens per user set to: 10
app_1       | 2026/02/11 18:17:06 [TokenManager] Production mode set to: true, Cookie Secure set to: true
app_1       | 2026/02/11 18:17:06 [TokenManager] Cookie attributes set: Path=/, Domain=, Secure=true, HttpOnly=true, SameSite=4
app_1       | 2026/02/11 18:17:06 Инициализация Redis PubSub для кластеризации WebSocket...
app_1       | 2026/02/11 18:17:06 RedisPubSub provider created using existing client.
app_1       | 2026/02/11 18:17:06 Redis PubSub провайдер успешно инициализирован
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/invalid_token_repo.go:89
app_1       | [11.119ms] [rows:0] SELECT * FROM "invalid_tokens"
app_1       | 2026/02/11 18:17:06 Получено 0 записей из invalid_tokens
app_1       | 2026/02/11 18:17:06 JWT: Loaded 0 invalidated tokens from database
app_1       | 2026/02/11 18:17:06 [TokenManager] JWTService has been set.
app_1       | 2026/02/11 18:17:06 WebSocket: инициализация ShardedHub
app_1       | 2026/02/11 18:17:06 WorkerPool: запущен пул с 8 воркерами
app_1       | 2026/02/11 18:17:06 WorkerPool: запущен пул с 8 воркерами
app_1       | 2026/02/11 18:17:06 [Шард 0] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 1] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 2] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 3] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 ClusterHub: Instance ID не задан, сгенерирован: instance_20260211181706_wpJA4uOh
app_1       | 2026/02/11 18:17:06 ShardedHub создан с 4 шардами
app_1       | 2026/02/11 18:17:06 WebSocket: кластерный режим включен
app_1       | 2026/02/11 18:17:06 [QuizManager] Менеджер викторин успешно инициализирован
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 1 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 2 запущен
app_1       | 2026/02/11 18:17:06 [JWTService] Starting periodic cleanup routine every 1h0m0s
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 4 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 3 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 5 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 6 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 7 запущен
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'jwt_invalidation_events'
app_1       | 2026/02/11 18:17:06 [Shard 1] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 [Shard 2] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 [Shard 3] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 ShardedHub: запуск с 4 шардами, до 5000 клиентов на шард
app_1       | 2026/02/11 18:17:06 ClusterHub: запуск кластерного режима, ID экземпляра: instance_20260211181706_wpJA4uOh
app_1       | 2026/02/11 18:17:06 Запуск механизма периодической очистки CSRF токенов и истекших refresh-токенов (каждый час)
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 0 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 1 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 2 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 3 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 4 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 5 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 6 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 7 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 0 запущен
app_1       | 2026/02/11 18:17:06 [Shard 0] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 ClusterHub: Запуск публикации метрик каждые 1m0s
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'jwt_invalidation_events'
app_1       | 2026/02/11 18:17:06 [JWTService] Успешно подписан на канал jwt_invalidation_events для синхронизации кэша.
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:broadcast'
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:ready
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:answer
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:heartbeat
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:resync
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:broadcast'
app_1       | 2026/02/11 18:17:06 ClusterHub: начата обработка широковещательных сообщений
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:direct'
app_1       | 2026/02/11 18:17:06 Server started on port 8080
app_1       | 2026/02/11 18:17:06 Starting server on port 8080
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:direct'
app_1       | 2026/02/11 18:17:06 [ClusterHub:Direct] Успешно подписан на канал прямых сообщений: ws:direct
nginx_1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx_1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx_1     | 10-listen-on-ipv6-by-default.sh: info: can not modify /etc/nginx/conf.d/default.conf (read-only file system?)
nginx_1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx_1     | /docker-entrypoint.sh: Configuration complete; ready for start up
nginx_1     | 2026/02/11 18:17:06 [warn] 1#1: the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/conf.d/default.conf:11
nginx_1     | nginx: [warn] the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/conf.d/default.conf:11
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: using the "epoll" event method
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: nginx/1.29.5
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: built by gcc 15.2.0 (Alpine 15.2.0) 
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: OS: Linux 6.8.0-1045-gcp
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker processes
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker process 22
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker process 23
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET / HTTP/1.1" 200 5019 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.3" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/e0593bb3f3b0af43.js HTTP/1.1" 200 7454 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/8a371a56f8ddbd4b.js HTTP/1.1" 200 3137 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a7b6dfde5781d4de.js HTTP/1.1" 200 12253 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a6dad97d9634a72d.js HTTP/1.1" 200 39685 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/c7a21e84ac23dd3c.js HTTP/1.1" 200 6843 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/b9b2fdc9b3f56042.js HTTP/1.1" 200 9241 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a63e4195fa8e7764.js HTTP/1.1" 200 9158 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/10d6fcf6e7b4ad7c.js HTTP/1.1" 200 8101 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/62a4b4701d6a8910.js HTTP/1.1" 200 9580 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/6b5c1753412a2ca2.js HTTP/1.1" 200 30610 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/446319381fe58bd1.js HTTP/1.1" 200 3099 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/e8ddb66660776f61.js HTTP/1.1" 200 70239 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/a9f0d54f47d71631.js HTTP/1.1" 200 282 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/4cab87128d43dd01.js HTTP/1.1" 200 293 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/6b6314f263257015.js HTTP/1.1" 200 14744 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/turbopack-e3e57095ddec4aed.js HTTP/1.1" 200 4033 "-" "python-httpx/0.28.1" "-"
nginx_1     | 103.30.196.107 - - [11/Feb/2026:18:21:20 +0000] "POST / HTTP/1.1" 404 24 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET / HTTP/2.0" 304 0 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /profile?_rsc=eqsj3 HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 2 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/auth/csrf HTTP/2.0" 200 81 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=eqsj3 HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=eqsj3 HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=eqsj3 HTTP/2.0" 200 342 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=tqohj HTTP/2.0" 200 1137 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=mubk8 HTTP/2.0" 200 2351 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=t8ou9 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=acm04 HTTP/2.0" 200 534 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
frontend_1  | ▲ Next.js 16.1.4
frontend_1  | - Local:         http://localhost:3000
frontend_1  | - Network:       http://0.0.0.0:3000
frontend_1  | 
frontend_1  | ✓ Starting...
frontend_1  | ✓ Ready in 290ms
frontend_1  | Error: Failed to find Server Action "x". This request might be from an older or newer deployment.
frontend_1  | Read more: https://nextjs.org/docs/messages/failed-to-find-server-action
frontend_1  |     at ignore-listed frames
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=1x3py HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=1vblc HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=2mwil HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /api/auth/sessions HTTP/2.0" 200 3086 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=1ugzb HTTP/2.0" 200 353 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=ys5m8 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=baz01 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=2dhtl HTTP/2.0" 200 533 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin?_rsc=1143l HTTP/2.0" 200 1952 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10359 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/question-pool?_rsc=17qrm HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=17qrm HTTP/2.0" 200 345 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/ads?_rsc=17qrm HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/monitoring?_rsc=17qrm HTTP/2.0" 200 338 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/question-pool?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=rjpof HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=1ijyj HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/quizzes/new?_rsc=14zdw HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/quizzes/new?_rsc=p7cw9 HTTP/2.0" 200 496 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/question-pool?_rsc=dki0b HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/question-pool?_rsc=dyoas HTTP/2.0" 200 498 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=1cj06 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=hjmgi HTTP/2.0" 200 499 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=1iinw HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=1majf HTTP/2.0" 200 497 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=1kaua HTTP/2.0" 200 325 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=19m7j HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=bs77n HTTP/2.0" 200 499 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "POST /api/quizzes HTTP/2.0" 201 270 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /admin/quizzes/36?_rsc=526y9 HTTP/2.0" 200 1174 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /api/quizzes/36/with-questions HTTP/2.0" 200 264 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /admin/quiz-live/36?_rsc=3uwmu HTTP/2.0" 200 173 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:24 +0000] "GET /admin/quiz-live/36?_rsc=2yizi HTTP/2.0" 200 819 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:25 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10624 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:25 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 266 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:26 +0000] "GET /quiz/36/lobby?_rsc=eqsj3 HTTP/2.0" 200 183 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:26 +0000] "GET /quiz/36/lobby?_rsc=1a28h HTTP/2.0" 200 830 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:28 +0000] "GET /quiz/36/lobby?_rsc=5r605 HTTP/2.0" 200 1409 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:29 +0000] "GET /api/quizzes/36 HTTP/2.0" 200 264 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:29 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:metrics'
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:metrics'
app_1       | 2026/02/11 18:17:06 [ClusterHub:Metrics] Успешно подписан на канал метрик: ws:metrics
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [23.063ms] [rows:0] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:17:06.061' ORDER BY scheduled_time
app_1       | 2026/02/11 18:18:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:19:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:20:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:21:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:22:06 [Shard 2] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 1] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 3] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 0] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [2.601ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.428') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.428' AND expires_at > '2026-02-11 18:22:57.428') ORDER BY created_at DESC
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/user_repo.go:33
app_1       | [15.265ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |   19.560813ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [1.855ms] [rows:0] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:22:57.813' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |    2.366269ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [17.374ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.813') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.813' AND expires_at > '2026-02-11 18:22:57.813') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/user_repo.go:33
app_1       | [5.263ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |   23.370808ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.963ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.968') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.968' AND expires_at > '2026-02-11 18:22:57.968') ORDER BY created_at DESC
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:22:57 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |    1.426465ms |      172.18.0.6 | GET      "/api/auth/csrf"
app_1       | 2026/02/11 18:23:00 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:00 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.588ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:00.514') OR (is_active = false AND rotated_at > '2026-02-04 18:23:00.514' AND expires_at > '2026-02-11 18:23:00.514') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:23:00 /app/internal/repository/postgres/refresh_token_repo.go:85
app_1       | [17.159ms] [rows:8] SELECT * FROM "refresh_tokens" WHERE user_id = 1 AND expires_at > '2026-02-11 18:23:00.516' ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:00 [TokenManager] Получено 8 активных токенов пользователя ID=1
app_1       | [GIN] 2026/02/11 - 18:23:00 | 200 |   21.218942ms |      172.18.0.6 | GET      "/api/auth/sessions"
app_1       | 
app_1       | 2026/02/11 18:23:03 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [5.870ms] [rows:35] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:23:03 | 200 |    7.978741ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 2026/02/11 18:23:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.448ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:23.281') OR (is_active = false AND rotated_at > '2026-02-04 18:23:23.281' AND expires_at > '2026-02-11 18:23:23.281') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:23 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:23 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.716ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:23.283') OR (is_active = false AND rotated_at > '2026-02-04 18:23:23.283' AND expires_at > '2026-02-11 18:23:23.283') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:23 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:23 [QuizManager] Планирование викторины #36 на 2026-02-11 18:25:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:29
app_1       | [8.919ms] [rows:1] INSERT INTO "quizzes" ("title","description","scheduled_time","status","question_count","prize_fund","created_at","updated_at") VALUES ('тестовая викторина после обновы','','2026-02-11 18:25:00','scheduled',0,86868,'2026-02-11 18:23:23.285','2026-02-11 18:23:23.285') RETURNING "id"
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [16.557ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 36
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [18.096ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:23 [Scheduler] Pool check: needed=10, available=330
app_1       | 2026/02/11 18:23:23 [Scheduler] Quiz #36: no preset questions, using pool
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/question_repo.go:222
app_1       | [4.630ms] [rows:1] SELECT count(*) FROM "questions" WHERE quiz_id IS NULL AND is_used = false
app_1       | 2026/02/11 18:23:23 [Scheduler] Викторина #36 запланирована на 2026-02-11 18:25:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:111
app_1       | [3.845ms] [rows:1] UPDATE "quizzes" SET "scheduled_time"='2026-02-11 18:25:00',"status"='scheduled',"updated_at"='2026-02-11 18:23:23.317' WHERE id = 36
app_1       | [GIN] 2026/02/11 - 18:23:23 | 201 |   40.113958ms |      172.18.0.6 | POST     "/api/quizzes"
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.242ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.572ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.414ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:23 [Scheduler] Викторина #36: планирую обратный отсчет через 36.676177312s
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.648ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 36
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.799ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:23:23 | 200 |    1.990257ms |      172.18.0.6 | GET      "/api/quizzes/36/with-questions"
app_1       | 
app_1       | 2026/02/11 18:23:25 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [1.465ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:23:25 | 200 |    2.109573ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 
app_1       | 2026/02/11 18:23:25 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [4.012ms] [rows:1] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:23:25.98' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:23:25 | 200 |    4.208881ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.885ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    1.057803ms |      172.18.0.6 | GET      "/api/quizzes/36"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.128ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.035') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.035' AND expires_at > '2026-02-11 18:23:29.035') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:29 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:29 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.684ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.037') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.037' AND expires_at > '2026-02-11 18:23:29.037') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:29 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [1.037ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:23:29.037' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | 2026/02/11 18:23:29 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    3.712946ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.836ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.462') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.462' AND expires_at > '2026-02-11 18:23:29.462') ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    1.705894ms |      172.18.0.6 | GET      "/ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDI2OSwiaWF0IjoxNzcwODM0MjA5LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.qdX71CfL8yHf8EKb7kvTJ5Bo4FFJw7cjVVHd2eSEvtE"
app_1       | 2026/02/11 18:23:29 WebSocket: Connection upgraded for UserID: 1
app_1       | 2026/02/11 18:23:29 WebSocket: registering client 1 in ShardedHub
app_1       | 2026/02/11 18:23:29 Shard 0: client 1 registered
app_1       | 2026/02/11 18:23:29 WebSocket: client 1 fully registered, starting pumps
app_1       | 2026/02/11 18:23:29 WebSocket Client Read Pump STARTED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 WebSocket Client Write Pump STARTED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) set QuizID to 36
app_1       | 2026/02/11 18:23:29 [WSHandler] User 1 set QuizID to 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] SubscribeToQuiz called for Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) to Quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Old QuizID is 36, New QuizID is 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1 already has atomic QuizID 36. Ensuring map presence.
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Attempting LoadOrStore for quiz map 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Created new map for quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Attempting to STORE client in map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: STORED client in map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1 VERIFIED in map for Quiz 36 immediately after Store.
app_1       | 2026/02/11 18:23:29 [WebSocketManager] Клиент 1 подписан на викторину 36 в шарде 0
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Пользователь #1 отметился как готовый к викторине #36
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.278ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Пользователь #1 добавлен в participants Set викторины #36
app_1       | 2026/02/11 18:23:29 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:23:29 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:user_ready. Buffer len: 0
app_1       | 2026/02/11 18:23:29 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Успешно отправлено событие о готовности пользователя #1 к викторине #36 (игроков онлайн: 1)
redis_1     | Starting Redis Server
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * Redis version=8.4.0, bits=64, commit=00000000, modified=1, pid=1, just started
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * Configuration loaded
redis_1     | 1:M 11 Feb 2026 18:17:05.468 * monotonic clock: POSIX clock_gettime
redis_1     | 1:M 11 Feb 2026 18:17:05.475 * Running mode=standalone, port=6379.
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> RedisBloom version 8.4.0 (Git=unknown)
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> Registering configuration options: [
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-error-rate       :      0.01 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-initial-size     :       100 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-expansion-factor :         2 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-bucket-size      :         2 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-initial-size     :      1024 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-max-iterations   :        20 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-expansion-factor :         1 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-max-expansions   :        32 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> ]
redis_1     | 1:M 11 Feb 2026 18:17:05.481 * Module 'bf' loaded from /usr/local/lib/redis/modules//redisbloom.so
redis_1     | 1:M 11 Feb 2026 18:17:05.547 * <search> Redis version found by RedisSearch : 8.4.0 - oss
redis_1     | 1:M 11 Feb 2026 18:17:05.547 * <search> RediSearch version 8.4.2 (Git=9e2b676)
redis_1     | 1:M 11 Feb 2026 18:17:05.548 * <search> Low level api version 1 initialized successfully
redis_1     | 1:M 11 Feb 2026 18:17:05.551 * <search> gc: ON, prefix min length: 2, min word length to stem: 4, prefix max expansions: 200, query timeout (ms): 500, timeout policy: return, oom policy: return, cursor read size: 1000, cursor max idle (ms): 300000, max doctable size: 1000000, max number of search results:  1000000, default scorer: BM25STD, 
redis_1     | 1:M 11 Feb 2026 18:17:05.555 * <search> Initialized thread pools!
redis_1     | 1:M 11 Feb 2026 18:17:05.555 * <search> Disabled workers threadpool of size 0
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Subscribe to config changes
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Subscribe to cluster slot migration events
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Enabled role change notification
redis_1     | 1:M 11 Feb 2026 18:17:05.564 * <search> Cluster configuration: AUTO partitions, type: 0, coordinator timeout: 0ms
redis_1     | 1:M 11 Feb 2026 18:17:05.565 * <search> Register write commands
redis_1     | 1:M 11 Feb 2026 18:17:05.565 * Module 'search' loaded from /usr/local/lib/redis/modules//redisearch.so
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> RedisTimeSeries version 80400, git_sha=3520a1568ad69076d60885c70711fbdc9b448749
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> Redis version found by RedisTimeSeries : 8.4.0 - oss
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> Registering configuration options: [
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-compaction-policy   :              }
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-num-threads         :            3 }
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-retention-policy    :            0 }
redis_1     | 1:M 11 Feb 2026 18:17:05.573 * <timeseries>       { ts-duplicate-policy    :        block }
redis_1     | 1:M 11 Feb 2026 18:17:05.573 * <timeseries>       { ts-chunk-size-bytes    :         4096 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-encoding            :   compressed }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-ignore-max-time-diff:            0 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-ignore-max-val-diff :     0.000000 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries> ]
redis_1     | 1:M 11 Feb 2026 18:17:05.576 * <timeseries> Detected redis oss
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * <timeseries> Subscribe to ASM events
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * <timeseries> Enabled diskless replication
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * Module 'timeseries' loaded from /usr/local/lib/redis/modules//redistimeseries.so
redis_1     | 1:M 11 Feb 2026 18:17:05.595 * <ReJSON> Created new data type 'ReJSON-RL'
redis_1     | 1:M 11 Feb 2026 18:17:05.599 * <ReJSON> version: 80400 git sha: unknown branch: unknown
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V1 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V2 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V3 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V4 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V5 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V6 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Enabled diskless replication
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * <ReJSON> Initialized shared string cache, thread safe: true.
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * Module 'ReJSON' loaded from /usr/local/lib/redis/modules//rejson.so
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * <search> Acquired RedisJSON_V6 API
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * Server initialized
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Loading event starts
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Changing workers threadpool size from 0 to 4
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Enabled workers threadpool of size 4
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Loading RDB produced by version 8.4.0
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * RDB age 144 seconds
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * RDB memory usage when created 1.12 Mb
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Done loading RDB, keys loaded: 10, keys expired: 0.
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Changing workers threadpool size from 4 to 0
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Disabled workers threadpool of size 4
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Loading event ends
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * DB loaded from disk: 0.003 seconds
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Ready to accept connections tcp
postgres_1  | 
postgres_1  | PostgreSQL Database directory appears to contain a database; Skipping initialization
postgres_1  | 
postgres_1  | 2026-02-11 18:17:05.641 UTC [1] LOG:  starting PostgreSQL 13.23 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
postgres_1  | 2026-02-11 18:17:05.642 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
postgres_1  | 2026-02-11 18:17:05.642 UTC [1] LOG:  listening on IPv6 address "::", port 5432
postgres_1  | 2026-02-11 18:17:05.649 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres_1  | 2026-02-11 18:17:05.664 UTC [25] LOG:  database system was shut down at 2026-02-11 18:14:41 UTC
postgres_1  | 2026-02-11 18:17:05.697 UTC [1] LOG:  database system is ready to accept connections
app_1       | 2026/02/11 18:24:00 [Scheduler] Запуск обратного отсчета для викторины #36
app_1       | 
app_1       | 2026/02/11 18:24:00 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.585ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:24:01 [Scheduler] Обратный отсчет викторины #36: 58 сек.
app_1       | 2026/02/11 18:24:01 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:01 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:01 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:01 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:01 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:02 [Scheduler] Обратный отсчет викторины #36: 57 сек.
app_1       | 2026/02/11 18:24:02 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:02 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:02 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:02 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:03 [Scheduler] Обратный отсчет викторины #36: 56 сек.
app_1       | 2026/02/11 18:24:03 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:03 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:03 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:03 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:03 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:04 [Scheduler] Обратный отсчет викторины #36: 55 сек.
app_1       | 2026/02/11 18:24:04 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:04 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:04 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:04 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:05 [Scheduler] Обратный отсчет викторины #36: 54 сек.
app_1       | 2026/02/11 18:24:05 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:05 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:05 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:05 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:05 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:06 [Scheduler] Обратный отсчет викторины #36: 53 сек.
app_1       | 2026/02/11 18:24:06 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:06 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:06 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:06 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:24:07 [Scheduler] Обратный отсчет викторины #36: 52 сек.
app_1       | 2026/02/11 18:24:07 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:07 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:07 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:07 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:08 [Scheduler] Обратный отсчет викторины #36: 51 сек.
app_1       | 2026/02/11 18:24:08 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:08 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:08 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:08 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:09 [Scheduler] Обратный отсчет викторины #36: 50 сек.
app_1       | 2026/02/11 18:24:09 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:09 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:09 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:09 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:10 [Scheduler] Обратный отсчет викторины #36: 49 сек.
app_1       | 2026/02/11 18:24:10 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:10 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:10 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:10 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:11 [Scheduler] Обратный отсчет викторины #36: 48 сек.
app_1       | 2026/02/11 18:24:11 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:11 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:11 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:11 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:12 [Scheduler] Обратный отсчет викторины #36: 47 сек.
app_1       | 2026/02/11 18:24:12 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:12 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:12 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:12 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:13 [Scheduler] Обратный отсчет викторины #36: 46 сек.
app_1       | 2026/02/11 18:24:13 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:13 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:13 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:13 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:14 [Scheduler] Обратный отсчет викторины #36: 45 сек.
app_1       | 2026/02/11 18:24:14 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:14 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:14 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:14 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:15 [Scheduler] Обратный отсчет викторины #36: 44 сек.
app_1       | 2026/02/11 18:24:15 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:15 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:15 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:15 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:16 [Scheduler] Обратный отсчет викторины #36: 43 сек.
app_1       | 2026/02/11 18:24:16 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:16 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:16 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:16 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:17 [Scheduler] Обратный отсчет викторины #36: 42 сек.
app_1       | 2026/02/11 18:24:17 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:17 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:17 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:18 [Scheduler] Обратный отсчет викторины #36: 41 сек.
app_1       | 2026/02/11 18:24:18 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:18 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:18 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:18 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:19 [Scheduler] Обратный отсчет викторины #36: 40 сек.
app_1       | 2026/02/11 18:24:19 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:19 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:19 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:19 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:20 [Scheduler] Обратный отсчет викторины #36: 39 сек.
app_1       | 2026/02/11 18:24:20 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:20 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:20 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:20 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:21 [Scheduler] Обратный отсчет викторины #36: 38 сек.
app_1       | 2026/02/11 18:24:21 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:21 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:21 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:21 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:22 [Scheduler] Обратный отсчет викторины #36: 37 сек.
app_1       | 2026/02/11 18:24:22 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:22 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:22 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:22 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:23 [Scheduler] Обратный отсчет викторины #36: 36 сек.
app_1       | 2026/02/11 18:24:23 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:23 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:23 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:23 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:23 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:24 [Scheduler] Обратный отсчет викторины #36: 35 сек.
app_1       | 2026/02/11 18:24:24 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:24 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:24 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:24 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:25 [Scheduler] Обратный отсчет викторины #36: 34 сек.
app_1       | 2026/02/11 18:24:25 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:25 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:25 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:25 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:26 [Scheduler] Обратный отсчет викторины #36: 33 сек.
app_1       | 2026/02/11 18:24:26 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:26 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:26 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:26 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:26 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:27 [Scheduler] Обратный отсчет викторины #36: 32 сек.
app_1       | 2026/02/11 18:24:27 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:27 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:27 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:27 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:28 [Scheduler] Обратный отсчет викторины #36: 31 сек.
app_1       | 2026/02/11 18:24:28 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:28 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:28 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:28 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:29 [Scheduler] Обратный отсчет викторины #36: 30 сек.
app_1       | 2026/02/11 18:24:29 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:29 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:29 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:29 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:30 [Scheduler] Обратный отсчет викторины #36: 29 сек.
app_1       | 2026/02/11 18:24:30 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:30 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:30 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:30 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:31 [Scheduler] Обратный отсчет викторины #36: 28 сек.
app_1       | 2026/02/11 18:24:31 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:31 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:31 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:31 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:32 [Scheduler] Обратный отсчет викторины #36: 27 сек.
app_1       | 2026/02/11 18:24:32 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:32 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:32 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:32 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:33 [Scheduler] Обратный отсчет викторины #36: 26 сек.
app_1       | 2026/02/11 18:24:33 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:33 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:33 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:33 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:34 [Scheduler] Обратный отсчет викторины #36: 25 сек.
app_1       | 2026/02/11 18:24:34 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:34 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:34 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:34 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:35 [Scheduler] Обратный отсчет викторины #36: 24 сек.
app_1       | 2026/02/11 18:24:35 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:35 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:35 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:35 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:36 [Scheduler] Обратный отсчет викторины #36: 23 сек.
app_1       | 2026/02/11 18:24:36 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:36 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:36 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:36 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:37 [Scheduler] Обратный отсчет викторины #36: 22 сек.
app_1       | 2026/02/11 18:24:37 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:37 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:37 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:37 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:38 [Scheduler] Обратный отсчет викторины #36: 21 сек.
app_1       | 2026/02/11 18:24:38 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:38 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:38 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:38 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:39 [Scheduler] Обратный отсчет викторины #36: 20 сек.
app_1       | 2026/02/11 18:24:39 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:39 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:39 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:39 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:40 [Scheduler] Обратный отсчет викторины #36: 19 сек.
app_1       | 2026/02/11 18:24:40 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:40 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:40 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:40 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:41 [Scheduler] Обратный отсчет викторины #36: 18 сек.
app_1       | 2026/02/11 18:24:41 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:41 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:41 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:41 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:42 [Scheduler] Обратный отсчет викторины #36: 17 сек.
app_1       | 2026/02/11 18:24:42 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:42 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:42 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:42 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:43 [Scheduler] Обратный отсчет викторины #36: 16 сек.
app_1       | 2026/02/11 18:24:43 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:43 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:43 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:43 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:44 [Scheduler] Обратный отсчет викторины #36: 15 сек.
app_1       | 2026/02/11 18:24:44 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:44 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:44 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:44 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:45 [Scheduler] Обратный отсчет викторины #36: 14 сек.
app_1       | 2026/02/11 18:24:45 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:45 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:45 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:45 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:46 [Scheduler] Обратный отсчет викторины #36: 13 сек.
app_1       | 2026/02/11 18:24:46 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:46 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:46 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:46 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:47 [Scheduler] Обратный отсчет викторины #36: 12 сек.
app_1       | 2026/02/11 18:24:47 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:47 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:47 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:47 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:48 [Scheduler] Обратный отсчет викторины #36: 11 сек.
app_1       | 2026/02/11 18:24:48 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:48 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:48 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:48 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:49 [Scheduler] Обратный отсчет викторины #36: 10 сек.
app_1       | 2026/02/11 18:24:49 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:49 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:49 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:49 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:49 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:24:49 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.359ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:24:49.302') OR (is_active = false AND rotated_at > '2026-02-04 18:24:49.302' AND expires_at > '2026-02-11 18:24:49.302') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:24:49 /app/internal/repository/postgres/user_repo.go:33
app_1       | [1.768ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:24:49 | 200 |    3.838276ms |      172.18.0.6 | GET      "/api/users/me"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:24:49 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:24:50 [Scheduler] Обратный отсчет викторины #36: 9 сек.
app_1       | 2026/02/11 18:24:50 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:50 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:50 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:50 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:51 [Scheduler] Обратный отсчет викторины #36: 8 сек.
app_1       | 2026/02/11 18:24:51 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:51 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:51 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:51 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:52 [Scheduler] Обратный отсчет викторины #36: 7 сек.
app_1       | 2026/02/11 18:24:52 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:52 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:52 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:53 [Scheduler] Обратный отсчет викторины #36: 6 сек.
app_1       | 2026/02/11 18:24:53 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:53 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:53 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:53 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:54 [Scheduler] Обратный отсчет викторины #36: 5 сек.
app_1       | 2026/02/11 18:24:54 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:54 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:54 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:54 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:55 [Scheduler] Обратный отсчет викторины #36: 4 сек.
app_1       | 2026/02/11 18:24:55 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:55 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:55 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:55 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:56 [Scheduler] Обратный отсчет викторины #36: 3 сек.
app_1       | 2026/02/11 18:24:56 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:56 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:56 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:56 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:57 [Scheduler] Обратный отсчет викторины #36: 2 сек.
app_1       | 2026/02/11 18:24:57 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:57 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:57 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:57 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:58 [Scheduler] Обратный отсчет викторины #36: 1 сек.
app_1       | 2026/02/11 18:24:58 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:58 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:58 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:58 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:59 [Scheduler] Обратный отсчет завершен для викторины #36, запуск викторины
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [2.152ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:24:59 [Scheduler] Запуск викторины #36
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] ERROR:  duplicate key value violates unique constraint "idx_quiz_single_in_progress"
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] DETAIL:  Key ((1))=(1) already exists.
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] STATEMENT:  UPDATE "quizzes" SET "status"=$1,"updated_at"=$2 WHERE id = $3 AND status = $4
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:125 ERROR: duplicate key value violates unique constraint "idx_quiz_single_in_progress" (SQLSTATE 23505)
app_1       | [4.270ms] [rows:0] UPDATE "quizzes" SET "status"='in_progress',"updated_at"='2026-02-11 18:24:59.005' WHERE id = 36 AND status = 'scheduled'
app_1       | 2026/02/11 18:24:59 [Scheduler] WARNING: Викторина #36 отменена: уже есть другая активная викторина (another quiz is already in progress: quiz #36)
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:87
app_1       | [3.245ms] [rows:1] UPDATE "quizzes" SET "status"='cancelled',"updated_at"='2026-02-11 18:24:59.01' WHERE id = 36
app_1       | 2026/02/11 18:24:59 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:59 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:cancelled. Buffer len: 0
app_1       | 2026/02/11 18:24:59 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:59 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:25:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
nginx_1     | 20.186.232.151 - - [11/Feb/2026:18:25:13 +0000] "GET /manager/html HTTP/1.1" 400 255 "-" "Mozilla/5.0 zgrab/0.x" "-"
^CERROR: Aborting.
saizhansco@instance-20260124-111940:~/myapp/trivia-api$ sudo docker-compose logs -f
Attaching to trivia-api_nginx_1, trivia-api_app_1, trivia-api_postgres_1, trivia-api_frontend_1, trivia-api_redis_1
frontend_1  | ▲ Next.js 16.1.4
frontend_1  | - Local:         http://localhost:3000
frontend_1  | - Network:       http://0.0.0.0:3000
frontend_1  | 
frontend_1  | ✓ Starting...
frontend_1  | ✓ Ready in 290ms
frontend_1  | Error: Failed to find Server Action "x". This request might be from an older or newer deployment.
frontend_1  | Read more: https://nextjs.org/docs/messages/failed-to-find-server-action
frontend_1  |     at ignore-listed frames
postgres_1  | 
postgres_1  | PostgreSQL Database directory appears to contain a database; Skipping initialization
postgres_1  | 
postgres_1  | 2026-02-11 18:17:05.641 UTC [1] LOG:  starting PostgreSQL 13.23 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
postgres_1  | 2026-02-11 18:17:05.642 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
postgres_1  | 2026-02-11 18:17:05.642 UTC [1] LOG:  listening on IPv6 address "::", port 5432
postgres_1  | 2026-02-11 18:17:05.649 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres_1  | 2026-02-11 18:17:05.664 UTC [25] LOG:  database system was shut down at 2026-02-11 18:14:41 UTC
postgres_1  | 2026-02-11 18:17:05.697 UTC [1] LOG:  database system is ready to accept connections
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] ERROR:  duplicate key value violates unique constraint "idx_quiz_single_in_progress"
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] DETAIL:  Key ((1))=(1) already exists.
postgres_1  | 2026-02-11 18:24:59.007 UTC [33] STATEMENT:  UPDATE "quizzes" SET "status"=$1,"updated_at"=$2 WHERE id = $3 AND status = $4
app_1       | 2026/02/11 18:17:05 Загрузка конфигурации из config/config.yaml
app_1       | 2026/02/11 18:17:05 Запуск применения миграций базы данных...
app_1       | 2026/02/11 18:17:05 Применяем миграции 'up'...
app_1       | 2026/02/11 18:17:05 Изменений в миграциях не найдено, база данных уже актуальна.
app_1       | 2026/02/11 18:17:05 Миграции базы данных завершены.
app_1       | 2026/02/11 18:17:05 Successfully connected to Redis
app_1       | 2026/02/11 18:17:05 [TokenManager] Initializing and ensuring JWT keys...
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [38.711ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:17:05.998' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | 2026/02/11 18:17:06 [TokenManager] Active JWT key ID: a488fda381b19b17 found in repository.
app_1       | 2026/02/11 18:17:06 [TokenManager] Access token expiry set to: 24h0m0s
app_1       | 2026/02/11 18:17:06 [TokenManager] Refresh token expiry set to: 720h0m0s
app_1       | 2026/02/11 18:17:06 [TokenManager] Max refresh tokens per user set to: 10
app_1       | 2026/02/11 18:17:06 [TokenManager] Production mode set to: true, Cookie Secure set to: true
app_1       | 2026/02/11 18:17:06 [TokenManager] Cookie attributes set: Path=/, Domain=, Secure=true, HttpOnly=true, SameSite=4
app_1       | 2026/02/11 18:17:06 Инициализация Redis PubSub для кластеризации WebSocket...
app_1       | 2026/02/11 18:17:06 RedisPubSub provider created using existing client.
app_1       | 2026/02/11 18:17:06 Redis PubSub провайдер успешно инициализирован
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/invalid_token_repo.go:89
app_1       | [11.119ms] [rows:0] SELECT * FROM "invalid_tokens"
app_1       | 2026/02/11 18:17:06 Получено 0 записей из invalid_tokens
app_1       | 2026/02/11 18:17:06 JWT: Loaded 0 invalidated tokens from database
app_1       | 2026/02/11 18:17:06 [TokenManager] JWTService has been set.
app_1       | 2026/02/11 18:17:06 WebSocket: инициализация ShardedHub
app_1       | 2026/02/11 18:17:06 WorkerPool: запущен пул с 8 воркерами
app_1       | 2026/02/11 18:17:06 WorkerPool: запущен пул с 8 воркерами
app_1       | 2026/02/11 18:17:06 [Шард 0] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 1] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 2] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 [Шард 3] Создан с максимальным количеством клиентов 5000
app_1       | 2026/02/11 18:17:06 ClusterHub: Instance ID не задан, сгенерирован: instance_20260211181706_wpJA4uOh
app_1       | 2026/02/11 18:17:06 ShardedHub создан с 4 шардами
app_1       | 2026/02/11 18:17:06 WebSocket: кластерный режим включен
app_1       | 2026/02/11 18:17:06 [QuizManager] Менеджер викторин успешно инициализирован
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 1 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 2 запущен
app_1       | 2026/02/11 18:17:06 [JWTService] Starting periodic cleanup routine every 1h0m0s
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 4 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 3 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 5 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 6 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 7 запущен
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'jwt_invalidation_events'
app_1       | 2026/02/11 18:17:06 [Shard 1] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 [Shard 2] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 [Shard 3] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 ShardedHub: запуск с 4 шардами, до 5000 клиентов на шард
app_1       | 2026/02/11 18:17:06 ClusterHub: запуск кластерного режима, ID экземпляра: instance_20260211181706_wpJA4uOh
app_1       | 2026/02/11 18:17:06 Запуск механизма периодической очистки CSRF токенов и истекших refresh-токенов (каждый час)
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 0 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 1 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 2 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 3 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 4 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 5 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 6 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 7 запущен
app_1       | 2026/02/11 18:17:06 WorkerPool: воркер 0 запущен
app_1       | 2026/02/11 18:17:06 [Shard 0] Запуск рутины очистки каждые 5m0s с таймаутом 1m0s
app_1       | 2026/02/11 18:17:06 ClusterHub: Запуск публикации метрик каждые 1m0s
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'jwt_invalidation_events'
app_1       | 2026/02/11 18:17:06 [JWTService] Успешно подписан на канал jwt_invalidation_events для синхронизации кэша.
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:broadcast'
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:ready
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:answer
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:heartbeat
app_1       | 2026/02/11 18:17:06 [WebSocketManager] Зарегистрирован обработчик для сообщений типа: user:resync
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:broadcast'
app_1       | 2026/02/11 18:17:06 ClusterHub: начата обработка широковещательных сообщений
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:direct'
app_1       | 2026/02/11 18:17:06 Server started on port 8080
app_1       | 2026/02/11 18:17:06 Starting server on port 8080
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:direct'
app_1       | 2026/02/11 18:17:06 [ClusterHub:Direct] Успешно подписан на канал прямых сообщений: ws:direct
app_1       | 2026/02/11 18:17:06 RedisPubSub: Subscribing to channel 'ws:metrics'
app_1       | 2026/02/11 18:17:06 RedisPubSub: Successfully subscribed to channel 'ws:metrics'
app_1       | 2026/02/11 18:17:06 [ClusterHub:Metrics] Успешно подписан на канал метрик: ws:metrics
app_1       | 
app_1       | 2026/02/11 18:17:06 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [23.063ms] [rows:0] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:17:06.061' ORDER BY scheduled_time
app_1       | 2026/02/11 18:18:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:19:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:20:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:21:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:22:06 [Shard 2] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 1] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 3] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 [Shard 0] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:22:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [2.601ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.428') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.428' AND expires_at > '2026-02-11 18:22:57.428') ORDER BY created_at DESC
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/user_repo.go:33
app_1       | [15.265ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |   19.560813ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [1.855ms] [rows:0] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:22:57.813' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |    2.366269ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [17.374ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.813') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.813' AND expires_at > '2026-02-11 18:22:57.813') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/user_repo.go:33
app_1       | [5.263ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |   23.370808ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:22:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.963ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:22:57.968') OR (is_active = false AND rotated_at > '2026-02-04 18:22:57.968' AND expires_at > '2026-02-11 18:22:57.968') ORDER BY created_at DESC
app_1       | 2026/02/11 18:22:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:22:57 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | [GIN] 2026/02/11 - 18:22:57 | 200 |    1.426465ms |      172.18.0.6 | GET      "/api/auth/csrf"
app_1       | 2026/02/11 18:23:00 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:00 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.588ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:00.514') OR (is_active = false AND rotated_at > '2026-02-04 18:23:00.514' AND expires_at > '2026-02-11 18:23:00.514') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:23:00 /app/internal/repository/postgres/refresh_token_repo.go:85
app_1       | [17.159ms] [rows:8] SELECT * FROM "refresh_tokens" WHERE user_id = 1 AND expires_at > '2026-02-11 18:23:00.516' ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:00 [TokenManager] Получено 8 активных токенов пользователя ID=1
app_1       | [GIN] 2026/02/11 - 18:23:00 | 200 |   21.218942ms |      172.18.0.6 | GET      "/api/auth/sessions"
app_1       | 
app_1       | 2026/02/11 18:23:03 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [5.870ms] [rows:35] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:23:03 | 200 |    7.978741ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 2026/02/11 18:23:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.448ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:23.281') OR (is_active = false AND rotated_at > '2026-02-04 18:23:23.281' AND expires_at > '2026-02-11 18:23:23.281') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:23 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:23 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.716ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:23.283') OR (is_active = false AND rotated_at > '2026-02-04 18:23:23.283' AND expires_at > '2026-02-11 18:23:23.283') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:23 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:23 [QuizManager] Планирование викторины #36 на 2026-02-11 18:25:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:29
nginx_1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx_1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx_1     | 10-listen-on-ipv6-by-default.sh: info: can not modify /etc/nginx/conf.d/default.conf (read-only file system?)
nginx_1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx_1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx_1     | /docker-entrypoint.sh: Configuration complete; ready for start up
nginx_1     | 2026/02/11 18:17:06 [warn] 1#1: the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/conf.d/default.conf:11
nginx_1     | nginx: [warn] the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/conf.d/default.conf:11
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: using the "epoll" event method
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: nginx/1.29.5
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: built by gcc 15.2.0 (Alpine 15.2.0) 
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: OS: Linux 6.8.0-1045-gcp
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker processes
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker process 22
nginx_1     | 2026/02/11 18:17:06 [notice] 1#1: start worker process 23
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET / HTTP/1.1" 200 5019 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.3" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/e0593bb3f3b0af43.js HTTP/1.1" 200 7454 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/8a371a56f8ddbd4b.js HTTP/1.1" 200 3137 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a7b6dfde5781d4de.js HTTP/1.1" 200 12253 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a6dad97d9634a72d.js HTTP/1.1" 200 39685 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/c7a21e84ac23dd3c.js HTTP/1.1" 200 6843 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/b9b2fdc9b3f56042.js HTTP/1.1" 200 9241 "-" "python-httpx/0.28.1" "-"
app_1       | [8.919ms] [rows:1] INSERT INTO "quizzes" ("title","description","scheduled_time","status","question_count","prize_fund","created_at","updated_at") VALUES ('тестовая викторина после обновы','','2026-02-11 18:25:00','scheduled',0,86868,'2026-02-11 18:23:23.285','2026-02-11 18:23:23.285') RETURNING "id"
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [16.557ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 36
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [18.096ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:23 [Scheduler] Pool check: needed=10, available=330
app_1       | 2026/02/11 18:23:23 [Scheduler] Quiz #36: no preset questions, using pool
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/question_repo.go:222
app_1       | [4.630ms] [rows:1] SELECT count(*) FROM "questions" WHERE quiz_id IS NULL AND is_used = false
app_1       | 2026/02/11 18:23:23 [Scheduler] Викторина #36 запланирована на 2026-02-11 18:25:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:111
app_1       | [3.845ms] [rows:1] UPDATE "quizzes" SET "scheduled_time"='2026-02-11 18:25:00',"status"='scheduled',"updated_at"='2026-02-11 18:23:23.317' WHERE id = 36
app_1       | [GIN] 2026/02/11 - 18:23:23 | 201 |   40.113958ms |      172.18.0.6 | POST     "/api/quizzes"
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.242ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.572ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.414ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:23 [Scheduler] Викторина #36: планирую обратный отсчет через 36.676177312s
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.648ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 36
app_1       | 
app_1       | 2026/02/11 18:23:23 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.799ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:23:23 | 200 |    1.990257ms |      172.18.0.6 | GET      "/api/quizzes/36/with-questions"
app_1       | 
app_1       | 2026/02/11 18:23:25 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [1.465ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:23:25 | 200 |    2.109573ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 
app_1       | 2026/02/11 18:23:25 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [4.012ms] [rows:1] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:23:25.98' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:23:25 | 200 |    4.208881ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.885ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    1.057803ms |      172.18.0.6 | GET      "/api/quizzes/36"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.128ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.035') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.035' AND expires_at > '2026-02-11 18:23:29.035') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:29 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:23:29 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.684ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.037') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.037' AND expires_at > '2026-02-11 18:23:29.037') ORDER BY created_at DESC
app_1       | 2026/02/11 18:23:29 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [1.037ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:23:29.037' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | 2026/02/11 18:23:29 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    3.712946ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.836ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:23:29.462') OR (is_active = false AND rotated_at > '2026-02-04 18:23:29.462' AND expires_at > '2026-02-11 18:23:29.462') ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:23:29 | 200 |    1.705894ms |      172.18.0.6 | GET      "/ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDI2OSwiaWF0IjoxNzcwODM0MjA5LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.qdX71CfL8yHf8EKb7kvTJ5Bo4FFJw7cjVVHd2eSEvtE"
app_1       | 2026/02/11 18:23:29 WebSocket: Connection upgraded for UserID: 1
app_1       | 2026/02/11 18:23:29 WebSocket: registering client 1 in ShardedHub
app_1       | 2026/02/11 18:23:29 Shard 0: client 1 registered
app_1       | 2026/02/11 18:23:29 WebSocket: client 1 fully registered, starting pumps
app_1       | 2026/02/11 18:23:29 WebSocket Client Read Pump STARTED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 WebSocket Client Write Pump STARTED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) set QuizID to 36
app_1       | 2026/02/11 18:23:29 [WSHandler] User 1 set QuizID to 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] SubscribeToQuiz called for Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) to Quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Old QuizID is 36, New QuizID is 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1 already has atomic QuizID 36. Ensuring map presence.
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Attempting LoadOrStore for quiz map 36
redis_1     | Starting Redis Server
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * Redis version=8.4.0, bits=64, commit=00000000, modified=1, pid=1, just started
redis_1     | 1:C 11 Feb 2026 18:17:05.467 * Configuration loaded
redis_1     | 1:M 11 Feb 2026 18:17:05.468 * monotonic clock: POSIX clock_gettime
redis_1     | 1:M 11 Feb 2026 18:17:05.475 * Running mode=standalone, port=6379.
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> RedisBloom version 8.4.0 (Git=unknown)
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> Registering configuration options: [
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-error-rate       :      0.01 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-initial-size     :       100 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { bf-expansion-factor :         2 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-bucket-size      :         2 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-initial-size     :      1024 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-max-iterations   :        20 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-expansion-factor :         1 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf>       { cf-max-expansions   :        32 }
redis_1     | 1:M 11 Feb 2026 18:17:05.480 * <bf> ]
redis_1     | 1:M 11 Feb 2026 18:17:05.481 * Module 'bf' loaded from /usr/local/lib/redis/modules//redisbloom.so
redis_1     | 1:M 11 Feb 2026 18:17:05.547 * <search> Redis version found by RedisSearch : 8.4.0 - oss
redis_1     | 1:M 11 Feb 2026 18:17:05.547 * <search> RediSearch version 8.4.2 (Git=9e2b676)
redis_1     | 1:M 11 Feb 2026 18:17:05.548 * <search> Low level api version 1 initialized successfully
redis_1     | 1:M 11 Feb 2026 18:17:05.551 * <search> gc: ON, prefix min length: 2, min word length to stem: 4, prefix max expansions: 200, query timeout (ms): 500, timeout policy: return, oom policy: return, cursor read size: 1000, cursor max idle (ms): 300000, max doctable size: 1000000, max number of search results:  1000000, default scorer: BM25STD, 
redis_1     | 1:M 11 Feb 2026 18:17:05.555 * <search> Initialized thread pools!
redis_1     | 1:M 11 Feb 2026 18:17:05.555 * <search> Disabled workers threadpool of size 0
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Subscribe to config changes
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Subscribe to cluster slot migration events
redis_1     | 1:M 11 Feb 2026 18:17:05.563 * <search> Enabled role change notification
redis_1     | 1:M 11 Feb 2026 18:17:05.564 * <search> Cluster configuration: AUTO partitions, type: 0, coordinator timeout: 0ms
redis_1     | 1:M 11 Feb 2026 18:17:05.565 * <search> Register write commands
redis_1     | 1:M 11 Feb 2026 18:17:05.565 * Module 'search' loaded from /usr/local/lib/redis/modules//redisearch.so
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> RedisTimeSeries version 80400, git_sha=3520a1568ad69076d60885c70711fbdc9b448749
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> Redis version found by RedisTimeSeries : 8.4.0 - oss
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries> Registering configuration options: [
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-compaction-policy   :              }
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-num-threads         :            3 }
redis_1     | 1:M 11 Feb 2026 18:17:05.572 * <timeseries>       { ts-retention-policy    :            0 }
redis_1     | 1:M 11 Feb 2026 18:17:05.573 * <timeseries>       { ts-duplicate-policy    :        block }
redis_1     | 1:M 11 Feb 2026 18:17:05.573 * <timeseries>       { ts-chunk-size-bytes    :         4096 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-encoding            :   compressed }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-ignore-max-time-diff:            0 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries>       { ts-ignore-max-val-diff :     0.000000 }
redis_1     | 1:M 11 Feb 2026 18:17:05.575 * <timeseries> ]
redis_1     | 1:M 11 Feb 2026 18:17:05.576 * <timeseries> Detected redis oss
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * <timeseries> Subscribe to ASM events
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * <timeseries> Enabled diskless replication
redis_1     | 1:M 11 Feb 2026 18:17:05.578 * Module 'timeseries' loaded from /usr/local/lib/redis/modules//redistimeseries.so
redis_1     | 1:M 11 Feb 2026 18:17:05.595 * <ReJSON> Created new data type 'ReJSON-RL'
redis_1     | 1:M 11 Feb 2026 18:17:05.599 * <ReJSON> version: 80400 git sha: unknown branch: unknown
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V1 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V2 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V3 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V4 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V5 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Exported RedisJSON_V6 API
redis_1     | 1:M 11 Feb 2026 18:17:05.601 * <ReJSON> Enabled diskless replication
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * <ReJSON> Initialized shared string cache, thread safe: true.
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * Module 'ReJSON' loaded from /usr/local/lib/redis/modules//rejson.so
redis_1     | 1:M 11 Feb 2026 18:17:05.602 * <search> Acquired RedisJSON_V6 API
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * Server initialized
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Loading event starts
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Changing workers threadpool size from 0 to 4
redis_1     | 1:M 11 Feb 2026 18:17:05.604 * <search> Enabled workers threadpool of size 4
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Loading RDB produced by version 8.4.0
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * RDB age 144 seconds
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * RDB memory usage when created 1.12 Mb
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Done loading RDB, keys loaded: 10, keys expired: 0.
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Changing workers threadpool size from 4 to 0
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Disabled workers threadpool of size 4
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * <search> Loading event ends
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * DB loaded from disk: 0.003 seconds
redis_1     | 1:M 11 Feb 2026 18:17:05.607 * Ready to accept connections tcp
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/a63e4195fa8e7764.js HTTP/1.1" 200 9158 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:36 +0000] "GET /_next/static/chunks/10d6fcf6e7b4ad7c.js HTTP/1.1" 200 8101 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/62a4b4701d6a8910.js HTTP/1.1" 200 9580 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/6b5c1753412a2ca2.js HTTP/1.1" 200 30610 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/446319381fe58bd1.js HTTP/1.1" 200 3099 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/e8ddb66660776f61.js HTTP/1.1" 200 70239 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/a9f0d54f47d71631.js HTTP/1.1" 200 282 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/4cab87128d43dd01.js HTTP/1.1" 200 293 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/6b6314f263257015.js HTTP/1.1" 200 14744 "-" "python-httpx/0.28.1" "-"
nginx_1     | 92.118.39.53 - - [11/Feb/2026:18:18:37 +0000] "GET /_next/static/chunks/turbopack-e3e57095ddec4aed.js HTTP/1.1" 200 4033 "-" "python-httpx/0.28.1" "-"
nginx_1     | 103.30.196.107 - - [11/Feb/2026:18:21:20 +0000] "POST / HTTP/1.1" 404 24 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET / HTTP/2.0" 304 0 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /profile?_rsc=eqsj3 HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 2 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:57 +0000] "GET /api/auth/csrf HTTP/2.0" 200 81 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=eqsj3 HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=eqsj3 HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=eqsj3 HTTP/2.0" 200 342 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=tqohj HTTP/2.0" 200 1137 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=mubk8 HTTP/2.0" 200 2351 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=t8ou9 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /profile?_rsc=acm04 HTTP/2.0" 200 534 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=1x3py HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /leaderboard?_rsc=1vblc HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=7uv5c HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:22:58 +0000] "GET /?_rsc=2mwil HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /api/auth/sessions HTTP/2.0" 200 3086 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=1ugzb HTTP/2.0" 200 353 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=ys5m8 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=baz01 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:00 +0000] "GET /profile/history?_rsc=2dhtl HTTP/2.0" 200 533 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin?_rsc=1143l HTTP/2.0" 200 1952 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10359 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/question-pool?_rsc=17qrm HTTP/2.0" 200 341 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Created new map for quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: Attempting to STORE client in map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1: STORED client in map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:23:29 [Shard 0][Sub] Client 1 VERIFIED in map for Quiz 36 immediately after Store.
app_1       | 2026/02/11 18:23:29 [WebSocketManager] Клиент 1 подписан на викторину 36 в шарде 0
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Пользователь #1 отметился как готовый к викторине #36
app_1       | 
app_1       | 2026/02/11 18:23:29 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.278ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Пользователь #1 добавлен в participants Set викторины #36
app_1       | 2026/02/11 18:23:29 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:23:29 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:user_ready. Buffer len: 0
app_1       | 2026/02/11 18:23:29 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:23:29 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:23:29 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:23:29 [AnswerProcessor] Успешно отправлено событие о готовности пользователя #1 к викторине #36 (игроков онлайн: 1)
app_1       | 2026/02/11 18:24:00 [Scheduler] Запуск обратного отсчета для викторины #36
app_1       | 
app_1       | 2026/02/11 18:24:00 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.585ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:24:01 [Scheduler] Обратный отсчет викторины #36: 58 сек.
app_1       | 2026/02/11 18:24:01 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:01 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:01 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:01 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:01 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:01 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:02 [Scheduler] Обратный отсчет викторины #36: 57 сек.
app_1       | 2026/02/11 18:24:02 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:02 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:02 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:02 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:02 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:03 [Scheduler] Обратный отсчет викторины #36: 56 сек.
app_1       | 2026/02/11 18:24:03 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:03 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:03 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:03 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:03 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:03 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:04 [Scheduler] Обратный отсчет викторины #36: 55 сек.
app_1       | 2026/02/11 18:24:04 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:04 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:04 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:04 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:04 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:05 [Scheduler] Обратный отсчет викторины #36: 54 сек.
app_1       | 2026/02/11 18:24:05 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:05 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=17qrm HTTP/2.0" 200 345 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/ads?_rsc=17qrm HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/monitoring?_rsc=17qrm HTTP/2.0" 200 338 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/question-pool?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=rjpof HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:03 +0000] "GET /admin/quizzes/new?_rsc=1ijyj HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/quizzes/new?_rsc=14zdw HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/quizzes/new?_rsc=p7cw9 HTTP/2.0" 200 496 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/question-pool?_rsc=dki0b HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/question-pool?_rsc=dyoas HTTP/2.0" 200 498 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=1cj06 HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/ads?_rsc=hjmgi HTTP/2.0" 200 499 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=m0mb1 HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=1iinw HTTP/2.0" 200 262 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin/monitoring?_rsc=1majf HTTP/2.0" 200 497 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=1kaua HTTP/2.0" 200 325 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=19m7j HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:04 +0000] "GET /admin?_rsc=bs77n HTTP/2.0" 200 499 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "POST /api/quizzes HTTP/2.0" 201 270 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /admin/quizzes/36?_rsc=526y9 HTTP/2.0" 200 1174 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /api/quizzes/36/with-questions HTTP/2.0" 200 264 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:23 +0000] "GET /admin/quiz-live/36?_rsc=3uwmu HTTP/2.0" 200 173 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:24 +0000] "GET /admin/quiz-live/36?_rsc=2yizi HTTP/2.0" 200 819 "https://qazaquiz.duckdns.org/admin/quizzes/36" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:25 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10624 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:25 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 266 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:26 +0000] "GET /quiz/36/lobby?_rsc=eqsj3 HTTP/2.0" 200 183 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:26 +0000] "GET /quiz/36/lobby?_rsc=1a28h HTTP/2.0" 200 830 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:28 +0000] "GET /quiz/36/lobby?_rsc=5r605 HTTP/2.0" 200 1409 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:05 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:05 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:05 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:05 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:06 [Scheduler] Обратный отсчет викторины #36: 53 сек.
app_1       | 2026/02/11 18:24:06 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:06 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:06 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:06 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:06 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:24:07 [Scheduler] Обратный отсчет викторины #36: 52 сек.
app_1       | 2026/02/11 18:24:07 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:07 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:07 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:07 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:07 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:08 [Scheduler] Обратный отсчет викторины #36: 51 сек.
app_1       | 2026/02/11 18:24:08 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:08 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:08 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:08 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:08 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:09 [Scheduler] Обратный отсчет викторины #36: 50 сек.
app_1       | 2026/02/11 18:24:09 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:09 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:09 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:09 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:09 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:10 [Scheduler] Обратный отсчет викторины #36: 49 сек.
app_1       | 2026/02/11 18:24:10 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:10 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:10 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:10 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:10 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:11 [Scheduler] Обратный отсчет викторины #36: 48 сек.
app_1       | 2026/02/11 18:24:11 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:11 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:11 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:11 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:11 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:12 [Scheduler] Обратный отсчет викторины #36: 47 сек.
app_1       | 2026/02/11 18:24:12 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:12 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:12 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:12 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:12 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:13 [Scheduler] Обратный отсчет викторины #36: 46 сек.
app_1       | 2026/02/11 18:24:13 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:13 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:13 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:13 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:13 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:14 [Scheduler] Обратный отсчет викторины #36: 45 сек.
app_1       | 2026/02/11 18:24:14 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:14 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:14 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:14 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:14 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:15 [Scheduler] Обратный отсчет викторины #36: 44 сек.
app_1       | 2026/02/11 18:24:15 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:15 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:15 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:15 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:15 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:16 [Scheduler] Обратный отсчет викторины #36: 43 сек.
app_1       | 2026/02/11 18:24:16 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:16 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:16 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:16 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:16 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:17 [Scheduler] Обратный отсчет викторины #36: 42 сек.
app_1       | 2026/02/11 18:24:17 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:17 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:17 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:17 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:18 [Scheduler] Обратный отсчет викторины #36: 41 сек.
app_1       | 2026/02/11 18:24:18 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:18 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:18 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:18 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:18 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:19 [Scheduler] Обратный отсчет викторины #36: 40 сек.
app_1       | 2026/02/11 18:24:19 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:19 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:19 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:19 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:19 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:20 [Scheduler] Обратный отсчет викторины #36: 39 сек.
app_1       | 2026/02/11 18:24:20 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:20 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:20 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:20 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:20 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:21 [Scheduler] Обратный отсчет викторины #36: 38 сек.
app_1       | 2026/02/11 18:24:21 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:21 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:21 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:21 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:21 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:22 [Scheduler] Обратный отсчет викторины #36: 37 сек.
app_1       | 2026/02/11 18:24:22 ShardedHub: Broadcasting message to Quiz 36 across all shards
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:29 +0000] "GET /api/quizzes/36 HTTP/2.0" 200 264 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:23:29 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:24:49 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 20.186.232.151 - - [11/Feb/2026:18:25:13 +0000] "GET /manager/html HTTP/1.1" 400 255 "-" "Mozilla/5.0 zgrab/0.x" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:44 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/quiz/36/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:51 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 2 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:52 +0000] "GET /api/auth/sessions HTTP/2.0" 200 3086 "https://qazaquiz.duckdns.org/profile" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:55 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10624 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:56 +0000] "GET /admin/quizzes/33?_rsc=1o6v1 HTTP/2.0" 200 1253 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:56 +0000] "GET /api/quizzes/33/with-questions HTTP/2.0" 200 520 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:57 +0000] "GET /api/admin/ads HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:57 +0000] "GET /api/quizzes/33/ad-slots HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:57 +0000] "GET /admin/quiz-live/33?_rsc=3uwmu HTTP/2.0" 200 172 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:57 +0000] "GET /admin/quiz-live/33?_rsc=2yizi HTTP/2.0" 200 819 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:59 +0000] "PUT /api/quizzes/33/cancel HTTP/2.0" 200 41 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:25:59 +0000] "GET /api/quizzes/33/with-questions HTTP/2.0" 200 521 "https://qazaquiz.duckdns.org/admin/quizzes/33" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:02 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10625 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:03 +0000] "GET /admin/quizzes/32?_rsc=1o6v1 HTTP/2.0" 200 1253 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /api/quizzes/32/with-questions HTTP/2.0" 200 497 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /api/quizzes/32/ad-slots HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /api/admin/ads HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /admin/quiz-live/32?_rsc=3uwmu HTTP/2.0" 200 173 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /admin/quiz-live/32?_rsc=2yizi HTTP/2.0" 200 822 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:04 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10625 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:07 +0000] "GET /admin/quizzes/32?_rsc=1o6v1 HTTP/2.0" 200 1252 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:07 +0000] "GET /api/quizzes/32/with-questions HTTP/2.0" 200 497 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:07 +0000] "GET /api/quizzes/32/ad-slots HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:07 +0000] "GET /api/admin/ads HTTP/2.0" 200 12 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:09 +0000] "PUT /api/quizzes/32/cancel HTTP/2.0" 200 41 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:09 +0000] "GET /api/quizzes/32/with-questions HTTP/2.0" 200 497 "https://qazaquiz.duckdns.org/admin/quizzes/32" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:10 +0000] "GET /api/quizzes?page=1&page_size=100 HTTP/2.0" 200 10625 "https://qazaquiz.duckdns.org/admin" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:36 +0000] "POST /api/quizzes HTTP/2.0" 201 324 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:36 +0000] "GET /admin/quizzes/37?_rsc=526y9 HTTP/2.0" 200 1171 "https://qazaquiz.duckdns.org/admin/quizzes/new" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:36 +0000] "GET /api/quizzes/37/with-questions HTTP/2.0" 200 317 "https://qazaquiz.duckdns.org/admin/quizzes/37" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:37 +0000] "GET /admin/quiz-live/37?_rsc=3uwmu HTTP/2.0" 200 173 "https://qazaquiz.duckdns.org/admin/quizzes/37" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:37 +0000] "GET /admin/quiz-live/37?_rsc=2yizi HTTP/2.0" 200 823 "https://qazaquiz.duckdns.org/admin/quizzes/37" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:37 +0000] "GET /api/quizzes/scheduled HTTP/2.0" 200 319 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:37 +0000] "GET /quiz/37/lobby?_rsc=eqsj3 HTTP/2.0" 200 183 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:38 +0000] "GET /quiz/37/lobby?_rsc=1a28h HTTP/2.0" 200 828 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:39 +0000] "GET /quiz/37/lobby?_rsc=k1q4u HTTP/2.0" 200 1410 "https://qazaquiz.duckdns.org/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:39 +0000] "GET /api/quizzes/37 HTTP/2.0" 200 317 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:39 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:40 +0000] "GET /ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDI2OSwiaWF0IjoxNzcwODM0MjA5LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.qdX71CfL8yHf8EKb7kvTJ5Bo4FFJw7cjVVHd2eSEvtE HTTP/1.1" 101 4577 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /quiz/37/lobby HTTP/2.0" 200 5719 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDQ1OSwiaWF0IjoxNzcwODM0Mzk5LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.QH6Cx4SVnZxbaOiBX3ZDK1A-5XIctQpGueQUbT_jVh0 HTTP/1.1" 101 84 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /favicon.ico?favicon.0b3bf435.ico HTTP/2.0" 200 25931 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /api/quizzes/37 HTTP/2.0" 200 317 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /api/auth/csrf HTTP/2.0" 200 81 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "GET /?_rsc=1bjrh HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:44 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:45 +0000] "GET /?_rsc=35dqp HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:45 +0000] "GET /?_rsc=13zrr HTTP/2.0" 200 1137 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:45 +0000] "GET /?_rsc=1p9xx HTTP/2.0" 200 2351 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:26:45 +0000] "GET /?_rsc=117yg HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:24:22 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:22 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:22 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:22 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:23 [Scheduler] Обратный отсчет викторины #36: 36 сек.
app_1       | 2026/02/11 18:24:23 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:23 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:23 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:23 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:23 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:23 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:24 [Scheduler] Обратный отсчет викторины #36: 35 сек.
app_1       | 2026/02/11 18:24:24 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:24 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:24 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:24 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:24 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:25 [Scheduler] Обратный отсчет викторины #36: 34 сек.
app_1       | 2026/02/11 18:24:25 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:25 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:25 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:25 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:25 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:26 [Scheduler] Обратный отсчет викторины #36: 33 сек.
app_1       | 2026/02/11 18:24:26 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:26 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:26 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:26 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:26 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:26 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:27 [Scheduler] Обратный отсчет викторины #36: 32 сек.
app_1       | 2026/02/11 18:24:27 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:27 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:27 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:27 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:27 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:28 [Scheduler] Обратный отсчет викторины #36: 31 сек.
app_1       | 2026/02/11 18:24:28 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:28 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:28 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:28 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:28 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:29 [Scheduler] Обратный отсчет викторины #36: 30 сек.
app_1       | 2026/02/11 18:24:29 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:29 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:29 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:29 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:29 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:30 [Scheduler] Обратный отсчет викторины #36: 29 сек.
app_1       | 2026/02/11 18:24:30 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:30 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:30 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:30 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:30 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:31 [Scheduler] Обратный отсчет викторины #36: 28 сек.
app_1       | 2026/02/11 18:24:31 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:31 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:31 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:31 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:31 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:32 [Scheduler] Обратный отсчет викторины #36: 27 сек.
app_1       | 2026/02/11 18:24:32 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:32 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:32 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:32 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:32 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:33 [Scheduler] Обратный отсчет викторины #36: 26 сек.
app_1       | 2026/02/11 18:24:33 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:33 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:33 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:33 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:33 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:34 [Scheduler] Обратный отсчет викторины #36: 25 сек.
app_1       | 2026/02/11 18:24:34 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:34 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:34 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:34 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:34 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:35 [Scheduler] Обратный отсчет викторины #36: 24 сек.
app_1       | 2026/02/11 18:24:35 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:35 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:35 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:35 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:35 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:36 [Scheduler] Обратный отсчет викторины #36: 23 сек.
app_1       | 2026/02/11 18:24:36 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:36 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:36 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:36 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:36 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:37 [Scheduler] Обратный отсчет викторины #36: 22 сек.
app_1       | 2026/02/11 18:24:37 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:37 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:37 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:37 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:37 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:38 [Scheduler] Обратный отсчет викторины #36: 21 сек.
app_1       | 2026/02/11 18:24:38 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:38 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:38 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:38 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:38 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:39 [Scheduler] Обратный отсчет викторины #36: 20 сек.
app_1       | 2026/02/11 18:24:39 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:39 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:39 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:39 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:39 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:40 [Scheduler] Обратный отсчет викторины #36: 19 сек.
app_1       | 2026/02/11 18:24:40 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:40 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:40 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:40 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:40 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:41 [Scheduler] Обратный отсчет викторины #36: 18 сек.
app_1       | 2026/02/11 18:24:41 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:41 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:41 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:41 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:41 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:42 [Scheduler] Обратный отсчет викторины #36: 17 сек.
app_1       | 2026/02/11 18:24:42 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:42 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:42 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:42 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:42 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:43 [Scheduler] Обратный отсчет викторины #36: 16 сек.
app_1       | 2026/02/11 18:24:43 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:43 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:43 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:43 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:43 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:44 [Scheduler] Обратный отсчет викторины #36: 15 сек.
app_1       | 2026/02/11 18:24:44 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:44 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:44 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:44 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:44 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:45 [Scheduler] Обратный отсчет викторины #36: 14 сек.
app_1       | 2026/02/11 18:24:45 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:45 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:45 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:45 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:45 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:46 [Scheduler] Обратный отсчет викторины #36: 13 сек.
app_1       | 2026/02/11 18:24:46 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:46 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:46 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:46 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:46 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:47 [Scheduler] Обратный отсчет викторины #36: 12 сек.
app_1       | 2026/02/11 18:24:47 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:47 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:47 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:47 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:47 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:48 [Scheduler] Обратный отсчет викторины #36: 11 сек.
app_1       | 2026/02/11 18:24:48 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:48 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:48 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:48 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:48 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:49 [Scheduler] Обратный отсчет викторины #36: 10 сек.
app_1       | 2026/02/11 18:24:49 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:49 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:49 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:49 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:49 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:49 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:24:49 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.359ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:24:49.302') OR (is_active = false AND rotated_at > '2026-02-04 18:24:49.302' AND expires_at > '2026-02-11 18:24:49.302') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:24:49 /app/internal/repository/postgres/user_repo.go:33
app_1       | [1.768ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:24:49 | 200 |    3.838276ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 2026/02/11 18:24:50 [Scheduler] Обратный отсчет викторины #36: 9 сек.
app_1       | 2026/02/11 18:24:50 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:50 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:50 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:50 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:50 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:51 [Scheduler] Обратный отсчет викторины #36: 8 сек.
app_1       | 2026/02/11 18:24:51 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:51 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:51 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:51 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:51 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:52 [Scheduler] Обратный отсчет викторины #36: 7 сек.
app_1       | 2026/02/11 18:24:52 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:52 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:52 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:52 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:53 [Scheduler] Обратный отсчет викторины #36: 6 сек.
app_1       | 2026/02/11 18:24:53 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:53 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:53 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:53 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:53 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:54 [Scheduler] Обратный отсчет викторины #36: 5 сек.
app_1       | 2026/02/11 18:24:54 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:54 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:54 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:54 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:54 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:55 [Scheduler] Обратный отсчет викторины #36: 4 сек.
app_1       | 2026/02/11 18:24:55 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:55 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:55 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:55 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:55 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:56 [Scheduler] Обратный отсчет викторины #36: 3 сек.
app_1       | 2026/02/11 18:24:56 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:56 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:56 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:56 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:56 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:57 [Scheduler] Обратный отсчет викторины #36: 2 сек.
app_1       | 2026/02/11 18:24:57 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:57 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:57 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:57 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:57 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:58 [Scheduler] Обратный отсчет викторины #36: 1 сек.
app_1       | 2026/02/11 18:24:58 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:58 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:24:58 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:24:58 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:58 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:24:59 [Scheduler] Обратный отсчет завершен для викторины #36, запуск викторины
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [2.152ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 36 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:24:59 [Scheduler] Запуск викторины #36
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:125 ERROR: duplicate key value violates unique constraint "idx_quiz_single_in_progress" (SQLSTATE 23505)
app_1       | [4.270ms] [rows:0] UPDATE "quizzes" SET "status"='in_progress',"updated_at"='2026-02-11 18:24:59.005' WHERE id = 36 AND status = 'scheduled'
app_1       | 2026/02/11 18:24:59 [Scheduler] WARNING: Викторина #36 отменена: уже есть другая активная викторина (another quiz is already in progress: quiz #36)
app_1       | 
app_1       | 2026/02/11 18:24:59 /app/internal/repository/postgres/quiz_repo.go:87
app_1       | [3.245ms] [rows:1] UPDATE "quizzes" SET "status"='cancelled',"updated_at"='2026-02-11 18:24:59.01' WHERE id = 36
app_1       | 2026/02/11 18:24:59 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:24:59 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][Range] Iterating over client: User 1, Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Attempting to queue message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 0][Quiz 36][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] Successfully queued message type: quiz:cancelled. Buffer len: 0
app_1       | 2026/02/11 18:24:59 Shard 0: Message broadcast to 1 clients in Quiz 36
app_1       | 2026/02/11 18:24:59 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:24:59 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 2026/02/11 18:25:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:25:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.517ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:44.714') OR (is_active = false AND rotated_at > '2026-02-04 18:25:44.714' AND expires_at > '2026-02-11 18:25:44.714') ORDER BY created_at DESC
app_1       | 2026/02/11 18:25:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:25:44 /app/internal/repository/postgres/user_repo.go:33
app_1       | [1.610ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:25:44 | 200 |    3.973216ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:25:51 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [1.372ms] [rows:0] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:25:51.499' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:25:51 | 200 |    1.590987ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 2026/02/11 18:25:52 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:25:52 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.576ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:52.849') OR (is_active = false AND rotated_at > '2026-02-04 18:25:52.849' AND expires_at > '2026-02-11 18:25:52.849') ORDER BY created_at DESC
app_1       | 2026/02/11 18:25:52 [TokenManager] Получено 8 активных токенов пользователя ID=1
app_1       | 
app_1       | 2026/02/11 18:25:52 /app/internal/repository/postgres/refresh_token_repo.go:85
app_1       | [3.535ms] [rows:8] SELECT * FROM "refresh_tokens" WHERE user_id = 1 AND expires_at > '2026-02-11 18:25:52.85' ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:25:52 | 200 |    5.827573ms |      172.18.0.6 | GET      "/api/auth/sessions"
app_1       | 
app_1       | 2026/02/11 18:25:55 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [2.292ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:25:55 | 200 |    2.867901ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 
app_1       | 2026/02/11 18:25:56 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [3.561ms] [rows:1] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 33
app_1       | 
app_1       | 2026/02/11 18:25:56 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [4.918ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 33 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:25:56 | 200 |    5.103414ms |      172.18.0.6 | GET      "/api/quizzes/33/with-questions"
app_1       | 
app_1       | 2026/02/11 18:25:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.794ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:57.093') OR (is_active = false AND rotated_at > '2026-02-04 18:25:57.093' AND expires_at > '2026-02-11 18:25:57.093') ORDER BY created_at DESC
app_1       | 2026/02/11 18:25:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:25:57 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:25:57 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.785ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:57.093') OR (is_active = false AND rotated_at > '2026-02-04 18:25:57.093' AND expires_at > '2026-02-11 18:25:57.093') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:25:57 /app/internal/repository/postgres/ad_asset_repo.go:35
app_1       | [10.297ms] [rows:0] SELECT * FROM "ad_assets" ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:25:57 | 200 |   13.178777ms |      172.18.0.6 | GET      "/api/admin/ads"
app_1       | 
app_1       | 2026/02/11 18:25:57 /app/internal/repository/postgres/quiz_ad_slot_repo.go:38
app_1       | [15.134ms] [rows:0] SELECT * FROM "quiz_ad_slots" WHERE quiz_id = 33 ORDER BY question_after ASC
app_1       | [GIN] 2026/02/11 - 18:25:57 | 200 |   17.410346ms |      172.18.0.6 | GET      "/api/quizzes/33/ad-slots"
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.260ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:59.298') OR (is_active = false AND rotated_at > '2026-02-04 18:25:59.298' AND expires_at > '2026-02-11 18:25:59.298') ORDER BY created_at DESC
app_1       | 2026/02/11 18:25:59 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:25:59 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.790ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:25:59.299') OR (is_active = false AND rotated_at > '2026-02-04 18:25:59.299' AND expires_at > '2026-02-11 18:25:59.299') ORDER BY created_at DESC
app_1       | 2026/02/11 18:25:59 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:25:59 [QuizManager] Отмена викторины #33
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.153ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 33 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:25:59 [Scheduler] Предупреждение: функция отмены для викторины #33 не найдена
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/quiz_repo.go:87
app_1       | [2.012ms] [rows:1] UPDATE "quizzes" SET "status"='cancelled',"updated_at"='2026-02-11 18:25:59.302' WHERE id = 33
app_1       | 2026/02/11 18:25:59 ShardedHub: Broadcasting message to Quiz 33 across all shards
app_1       | 2026/02/11 18:25:59 [Shard 0][Quiz 33] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:25:59 [Shard 1][Quiz 33] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:25:59 [Shard 2][Quiz 33] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:25:59 [Shard 3][Quiz 33] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:25:59 ShardedHub: Finished broadcasting to Quiz 33
app_1       | 2026/02/11 18:25:59 [Scheduler] Викторина #33 отменена
app_1       | [GIN] 2026/02/11 - 18:25:59 | 200 |    7.466302ms |      172.18.0.6 | PUT      "/api/quizzes/33/cancel"
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.755ms] [rows:1] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 33
app_1       | 
app_1       | 2026/02/11 18:25:59 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [2.061ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 33 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:25:59 | 200 |    2.307246ms |      172.18.0.6 | GET      "/api/quizzes/33/with-questions"
app_1       | 
app_1       | 2026/02/11 18:26:02 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [1.677ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:26:02 | 200 |    2.251565ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.906ms] [rows:1] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 32
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [2.244ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 32 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:04 | 200 |    2.424746ms |      172.18.0.6 | GET      "/api/quizzes/32/with-questions"
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.868ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:04.156') OR (is_active = false AND rotated_at > '2026-02-04 18:26:04.156' AND expires_at > '2026-02-11 18:26:04.156') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.267ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:04.156') OR (is_active = false AND rotated_at > '2026-02-04 18:26:04.156' AND expires_at > '2026-02-11 18:26:04.156') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:04 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:04 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/quiz_ad_slot_repo.go:38
app_1       | [1.735ms] [rows:0] SELECT * FROM "quiz_ad_slots" WHERE quiz_id = 32 ORDER BY question_after ASC
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/ad_asset_repo.go:35
app_1       | [1.316ms] [rows:0] SELECT * FROM "ad_assets" ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:26:04 | 200 |    3.196819ms |      172.18.0.6 | GET      "/api/quizzes/32/ad-slots"
app_1       | [GIN] 2026/02/11 - 18:26:04 | 200 |    3.259692ms |      172.18.0.6 | GET      "/api/admin/ads"
app_1       | 
app_1       | 2026/02/11 18:26:04 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [1.260ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:26:04 | 200 |    2.090245ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 2026/02/11 18:26:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.635ms] [rows:1] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 32
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.630ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 32 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:07 | 200 |    1.810521ms |      172.18.0.6 | GET      "/api/quizzes/32/with-questions"
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.703ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:07.308') OR (is_active = false AND rotated_at > '2026-02-04 18:26:07.308' AND expires_at > '2026-02-11 18:26:07.308') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:07 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/quiz_ad_slot_repo.go:38
app_1       | [3.070ms] [rows:0] SELECT * FROM "quiz_ad_slots" WHERE quiz_id = 32 ORDER BY question_after ASC
app_1       | [GIN] 2026/02/11 - 18:26:07 | 200 |    4.856504ms |      172.18.0.6 | GET      "/api/quizzes/32/ad-slots"
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.172ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:07.313') OR (is_active = false AND rotated_at > '2026-02-04 18:26:07.313' AND expires_at > '2026-02-11 18:26:07.313') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:07 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:07 /app/internal/repository/postgres/ad_asset_repo.go:35
app_1       | [0.585ms] [rows:0] SELECT * FROM "ad_assets" ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:26:07 | 200 |    2.285652ms |      172.18.0.6 | GET      "/api/admin/ads"
app_1       | 
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.291ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:09.08') OR (is_active = false AND rotated_at > '2026-02-04 18:26:09.08' AND expires_at > '2026-02-11 18:26:09.08') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:09 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:09 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:26:09 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:09 [QuizManager] Отмена викторины #32
app_1       | 2026/02/11 18:26:09 [Scheduler] Предупреждение: функция отмены для викторины #32 не найдена
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.746ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:09.082') OR (is_active = false AND rotated_at > '2026-02-04 18:26:09.082' AND expires_at > '2026-02-11 18:26:09.082') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.583ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 32 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/quiz_repo.go:87
app_1       | [3.098ms] [rows:1] UPDATE "quizzes" SET "status"='cancelled',"updated_at"='2026-02-11 18:26:09.084' WHERE id = 32
app_1       | [GIN] 2026/02/11 - 18:26:09 | 200 |    7.203349ms |      172.18.0.6 | PUT      "/api/quizzes/32/cancel"
app_1       | 2026/02/11 18:26:09 ShardedHub: Broadcasting message to Quiz 32 across all shards
app_1       | 2026/02/11 18:26:09 [Shard 3][Quiz 32] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:26:09 [Shard 0][Quiz 32] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:26:09 [Shard 1][Quiz 32] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:26:09 [Shard 2][Quiz 32] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:26:09 ShardedHub: Finished broadcasting to Quiz 32
app_1       | 2026/02/11 18:26:09 [Scheduler] Викторина #32 отменена
app_1       | 
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.781ms] [rows:1] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 32
app_1       | 
app_1       | 2026/02/11 18:26:09 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.651ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 32 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:09 | 200 |    1.843584ms |      172.18.0.6 | GET      "/api/quizzes/32/with-questions"
app_1       | 
app_1       | 2026/02/11 18:26:10 /app/internal/repository/postgres/quiz_repo.go:165
app_1       | [1.558ms] [rows:36] SELECT * FROM "quizzes" ORDER BY id DESC LIMIT 100
app_1       | [GIN] 2026/02/11 - 18:26:10 | 200 |    2.068639ms |      172.18.0.6 | GET      "/api/quizzes?page=1&page_size=100"
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.060ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:36.605') OR (is_active = false AND rotated_at > '2026-02-04 18:26:36.605' AND expires_at > '2026-02-11 18:26:36.605') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:36 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:36 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.705ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:36.606') OR (is_active = false AND rotated_at > '2026-02-04 18:26:36.606' AND expires_at > '2026-02-11 18:26:36.606') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:36 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:36 [QuizManager] Планирование викторины #37 на 2026-02-11 18:28:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:29
app_1       | [2.673ms] [rows:1] INSERT INTO "quizzes" ("title","description","scheduled_time","status","question_count","prize_fund","created_at","updated_at") VALUES ('снова тест викторина после обновы и удаления запланированных','','2026-02-11 18:28:00','scheduled',0,76876,'2026-02-11 18:26:36.608','2026-02-11 18:26:36.608') RETURNING "id"
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.668ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 37
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.784ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/question_repo.go:222
app_1       | [1.070ms] [rows:1] SELECT count(*) FROM "questions" WHERE quiz_id IS NULL AND is_used = false
app_1       | 2026/02/11 18:26:36 [Scheduler] Pool check: needed=10, available=330
app_1       | 2026/02/11 18:26:36 [Scheduler] Quiz #37: no preset questions, using pool
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:111
app_1       | [2.813ms] [rows:1] UPDATE "quizzes" SET "scheduled_time"='2026-02-11 18:28:00',"status"='scheduled',"updated_at"='2026-02-11 18:26:36.614' WHERE id = 37
app_1       | [GIN] 2026/02/11 - 18:26:36 | 201 |    11.72922ms |      172.18.0.6 | POST     "/api/quizzes"
app_1       | 2026/02/11 18:26:36 [Scheduler] Викторина #37 запланирована на 2026-02-11 18:28:00 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.592ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.578ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.473ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:26:36 [Scheduler] Викторина #37: планирую обратный отсчет через 23.379645545s
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [0.771ms] [rows:0] SELECT * FROM "questions" WHERE "questions"."quiz_id" = 37
app_1       | 
app_1       | 2026/02/11 18:26:36 /app/internal/repository/postgres/quiz_repo.go:73
app_1       | [1.601ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:36 | 200 |     1.78761ms |      172.18.0.6 | GET      "/api/quizzes/37/with-questions"
app_1       | 
app_1       | 2026/02/11 18:26:37 /app/internal/repository/postgres/quiz_repo.go:63
app_1       | [1.058ms] [rows:1] SELECT * FROM "quizzes" WHERE status = 'scheduled' AND scheduled_time > '2026-02-11 18:26:37.717' ORDER BY scheduled_time
app_1       | [GIN] 2026/02/11 - 18:26:37 | 200 |    1.315966ms |      172.18.0.6 | GET      "/api/quizzes/scheduled"
app_1       | 
app_1       | 2026/02/11 18:26:39 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.858ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:39 | 200 |    1.093576ms |      172.18.0.6 | GET      "/api/quizzes/37"
app_1       | 2026/02/11 18:26:39 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:39 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:26:39 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.272ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:39.97') OR (is_active = false AND rotated_at > '2026-02-04 18:26:39.97' AND expires_at > '2026-02-11 18:26:39.97') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:26:39 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.489ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:39.972') OR (is_active = false AND rotated_at > '2026-02-04 18:26:39.972' AND expires_at > '2026-02-11 18:26:39.972') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:39 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:39 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [0.879ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:26:39.973' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:39 | 200 |    3.767743ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 2026/02/11 18:26:39 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
app_1       | 
app_1       | 2026/02/11 18:26:40 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.666ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:40.397') OR (is_active = false AND rotated_at > '2026-02-04 18:26:40.397' AND expires_at > '2026-02-11 18:26:40.397') ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:26:40 | 200 |     1.54132ms |      172.18.0.6 | GET      "/ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDQ1OSwiaWF0IjoxNzcwODM0Mzk5LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.QH6Cx4SVnZxbaOiBX3ZDK1A-5XIctQpGueQUbT_jVh0"
app_1       | 2026/02/11 18:26:40 WebSocket: Connection upgraded for UserID: 1
app_1       | 2026/02/11 18:26:40 WebSocket: registering client 1 in ShardedHub
app_1       | 2026/02/11 18:26:40 Shard 0: replacing client 1 with new connection
app_1       | 2026/02/11 18:26:40 Shard 0: client 1 registered
app_1       | 2026/02/11 18:26:40 WebSocket: client 1 fully registered, starting pumps
app_1       | 2026/02/11 18:26:40 WebSocket Client Write Pump STARTED for UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e
app_1       | 2026/02/11 18:26:40 WebSocket Client Read Pump STARTED for UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e
app_1       | 2026/02/11 18:26:40 Client 1 (Conn: 35fb7b54-6421-426d-909e-604761b3565e) set QuizID to 37
app_1       | 2026/02/11 18:26:40 [WSHandler] User 1 set QuizID to 37
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] SubscribeToQuiz called for Client 1 (Conn: 35fb7b54-6421-426d-909e-604761b3565e) to Quiz 37
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1: Old QuizID is 37, New QuizID is 37
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1 already has atomic QuizID 37. Ensuring map presence.
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1: Attempting LoadOrStore for quiz map 37
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1: Created new map for quiz 37
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1: Attempting to STORE client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1: STORED client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:40 [Shard 0][Sub] Client 1 VERIFIED in map for Quiz 37 immediately after Store.
app_1       | 2026/02/11 18:26:40 [WebSocketManager] Клиент 1 подписан на викторину 37 в шарде 0
app_1       | 2026/02/11 18:26:40 [AnswerProcessor] Пользователь #1 отметился как готовый к викторине #37
app_1       | 
app_1       | 2026/02/11 18:26:40 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.680ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:26:40 [AnswerProcessor] Пользователь #1 добавлен в participants Set викторины #37
app_1       | 2026/02/11 18:26:40 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:26:40 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:40 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn 35fb7b54-6421-426d-909e-604761b3565e
app_1       | 2026/02/11 18:26:40 [Shard 0][Quiz 37][User 1][Conn 35fb7b54-6421-426d-909e-604761b3565e] Attempting to queue message type: quiz:user_ready
app_1       | 2026/02/11 18:26:40 [Shard 0][Quiz 37][User 1][Conn 35fb7b54-6421-426d-909e-604761b3565e] Successfully queued message type: quiz:user_ready. Buffer len: 0
app_1       | 2026/02/11 18:26:40 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:26:40 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:40 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:40 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:40 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:26:40 [AnswerProcessor] Успешно отправлено событие о готовности пользователя #1 к викторине #37 (игроков онлайн: 1)
app_1       | 2026/02/11 18:26:40 WebSocket Client Read Error (UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797): read tcp 172.18.0.5:8080->172.18.0.6:34916: use of closed network connection
app_1       | 2026/02/11 18:26:40 WebSocket Client Read Pump STOPPED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:26:40 [Shard 0][User 1][Conn ee3a8a35-e1d6-4a37-b7a2-857d73b96797] handleUnregister called
app_1       | 2026/02/11 18:26:40 [Shard 0][Unsub] unsubscribeInternal called for Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) from Quiz 36
app_1       | 2026/02/11 18:26:40 [Shard 0][Unsub] Client 1: Attempting to DELETE client from map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:26:40 [Shard 0][Unsub] Client 1: DELETED client from map for Quiz 36 (Map: 0xc0005101b0)
app_1       | 2026/02/11 18:26:40 [Shard 0][Unsub] Client 1 VERIFIED deletion from map for Quiz 36.
app_1       | 2026/02/11 18:26:40 Client 1 (Conn: ee3a8a35-e1d6-4a37-b7a2-857d73b96797) cleared QuizID
app_1       | 2026/02/11 18:26:40 Shard 0: Client 1 unsubscribed from Quiz 36
app_1       | 2026/02/11 18:26:40 [ShardedHub] Отправлено обновление player_count для викторины #36: 0 игроков
app_1       | 2026/02/11 18:26:40 ShardedHub: Broadcasting message to Quiz 36 across all shards
app_1       | 2026/02/11 18:26:40 [Shard 3][Quiz 36] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:40 WebSocket Client Send Channel Closed (UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797)
app_1       | 2026/02/11 18:26:40 WebSocket Client Write Pump STOPPED for UserID: 1, ConnID: ee3a8a35-e1d6-4a37-b7a2-857d73b96797
app_1       | 2026/02/11 18:26:40 [Shard 0][Quiz 36] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:40 [Shard 1][Quiz 36] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:40 [Shard 2][Quiz 36] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:40 ShardedHub: Finished broadcasting to Quiz 36
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.407ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.045') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.045' AND expires_at > '2026-02-11 18:26:44.045') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:44 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.865ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.047') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.047' AND expires_at > '2026-02-11 18:26:44.047') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:44 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [1.679ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:26:44.048' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:44 | 200 |    5.062352ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 2026/02/11 18:26:44 WebSocket Client Connection Closed Normally (UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e): websocket: close 1001 (going away)
app_1       | 2026/02/11 18:26:44 WebSocket Client Read Pump STOPPED for UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e
app_1       | 2026/02/11 18:26:44 [Shard 0][User 1][Conn 35fb7b54-6421-426d-909e-604761b3565e] handleUnregister called
app_1       | 2026/02/11 18:26:44 [Shard 0][Unsub] unsubscribeInternal called for Client 1 (Conn: 35fb7b54-6421-426d-909e-604761b3565e) from Quiz 37
app_1       | 2026/02/11 18:26:44 [Shard 0][Unsub] Client 1: Attempting to DELETE client from map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:44 [Shard 0][Unsub] Client 1: DELETED client from map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:44 [Shard 0][Unsub] Client 1 VERIFIED deletion from map for Quiz 37.
app_1       | 2026/02/11 18:26:44 Client 1 (Conn: 35fb7b54-6421-426d-909e-604761b3565e) cleared QuizID
app_1       | 2026/02/11 18:26:44 Shard 0: Client 1 unsubscribed from Quiz 37
app_1       | 2026/02/11 18:26:44 Shard 0: client 1 unregistered
app_1       | 2026/02/11 18:26:44 WebSocket Client Send Channel Closed (UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e)
app_1       | 2026/02/11 18:26:44 WebSocket Client Write Pump STOPPED for UserID: 1, ConnID: 35fb7b54-6421-426d-909e-604761b3565e
app_1       | 2026/02/11 18:26:44 [ShardedHub] Отправлено обновление player_count для викторины #37: 0 игроков
app_1       | 2026/02/11 18:26:44 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:26:44 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:44 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:44 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:44 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:26:44 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.686ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.578') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.578' AND expires_at > '2026-02-11 18:26:44.578') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/user_repo.go:33
app_1       | [0.691ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:44 | 200 |    1.978234ms |      172.18.0.6 | GET      "/api/users/me"
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.620ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:26:44 | 200 |     840.509µs |      172.18.0.6 | GET      "/api/quizzes/37"
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.621ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.717') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.717' AND expires_at > '2026-02-11 18:26:44.717') ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:26:44 | 200 |     942.787µs |      172.18.0.6 | GET      "/api/auth/csrf"
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:44 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.735ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.88') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.88' AND expires_at > '2026-02-11 18:26:44.88') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:26:44 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.826ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:44.881') OR (is_active = false AND rotated_at > '2026-02-04 18:26:44.881' AND expires_at > '2026-02-11 18:26:44.881') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:44 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:26:44 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [1.571ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:26:44.883' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | 2026/02/11 18:26:44 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
app_1       | [GIN] 2026/02/11 - 18:26:44 | 200 |    7.486736ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 2026/02/11 18:26:45 WebSocket: Connection upgraded for UserID: 1
app_1       | 2026/02/11 18:26:45 WebSocket: registering client 1 in ShardedHub
app_1       | 
app_1       | 2026/02/11 18:26:45 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.652ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:26:45.301') OR (is_active = false AND rotated_at > '2026-02-04 18:26:45.301' AND expires_at > '2026-02-11 18:26:45.301') ORDER BY created_at DESC
app_1       | 2026/02/11 18:26:45 Shard 0: client 1 registered
app_1       | 2026/02/11 18:26:45 WebSocket: client 1 fully registered, starting pumps
app_1       | 2026/02/11 18:26:45 WebSocket Client Write Pump STARTED for UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | [GIN] 2026/02/11 - 18:26:45 | 200 |     1.28536ms |      172.18.0.6 | GET      "/ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDQ2NCwiaWF0IjoxNzcwODM0NDA0LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.VGIacoutTr2SQapclNspKeV1q42PTqW3gNF5te7xiWI"
app_1       | 2026/02/11 18:26:45 WebSocket Client Read Pump STARTED for UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:26:45 Client 1 (Conn: e7a717e6-2657-462b-beb8-ce190729bdf7) set QuizID to 37
app_1       | 2026/02/11 18:26:45 [WSHandler] User 1 set QuizID to 37
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] SubscribeToQuiz called for Client 1 (Conn: e7a717e6-2657-462b-beb8-ce190729bdf7) to Quiz 37
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1: Old QuizID is 37, New QuizID is 37
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1 already has atomic QuizID 37. Ensuring map presence.
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1: Attempting LoadOrStore for quiz map 37
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1: Found existing map for quiz 37
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1: Attempting to STORE client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1: STORED client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:26:45 [Shard 0][Sub] Client 1 VERIFIED in map for Quiz 37 immediately after Store.
app_1       | 2026/02/11 18:26:45 [WebSocketManager] Клиент 1 подписан на викторину 37 в шарде 0
app_1       | 2026/02/11 18:26:45 [AnswerProcessor] Пользователь #1 отметился как готовый к викторине #37
app_1       | 2026/02/11 18:26:45 [AnswerProcessor] Пользователь #1 добавлен в participants Set викторины #37
app_1       | 2026/02/11 18:26:45 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:26:45 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:45 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:45 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:26:45 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:user_ready
app_1       | 2026/02/11 18:26:45 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:user_ready. Buffer len: 0
app_1       | 2026/02/11 18:26:45 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:26:45 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:45 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:26:45 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:26:45 [AnswerProcessor] Успешно отправлено событие о готовности пользователя #1 к викторине #37 (игроков онлайн: 1)
app_1       | 
app_1       | 2026/02/11 18:27:00 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [0.900ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:27:00 [Scheduler] Запуск обратного отсчета для викторины #37
app_1       | 2026/02/11 18:27:01 [Scheduler] Обратный отсчет викторины #37: 58 сек.
app_1       | 2026/02/11 18:27:01 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:01 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:01 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:01 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:01 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:01 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:01 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:01 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:01 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:01 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:02 [Scheduler] Обратный отсчет викторины #37: 57 сек.
app_1       | 2026/02/11 18:27:02 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:02 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:02 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:02 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:02 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:02 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:02 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:02 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:02 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:02 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:03 [Scheduler] Обратный отсчет викторины #37: 56 сек.
app_1       | 2026/02/11 18:27:03 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:03 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:03 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:03 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:03 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:03 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:03 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:03 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:03 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:03 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:04 [Scheduler] Обратный отсчет викторины #37: 55 сек.
app_1       | 2026/02/11 18:27:04 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:04 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:04 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:04 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:04 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:04 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:04 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:04 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:04 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:04 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:05 [Scheduler] Обратный отсчет викторины #37: 54 сек.
app_1       | 2026/02/11 18:27:05 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:05 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:05 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:05 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:05 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:05 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:05 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:05 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:05 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:05 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:06 [Scheduler] Обратный отсчет викторины #37: 53 сек.
app_1       | 2026/02/11 18:27:06 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:06 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:06 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:06 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:06 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:06 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:06 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:06 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:06 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:06 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:06 [Shard 3] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:27:06 [Shard 1] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:27:06 [Shard 2] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:27:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
app_1       | 2026/02/11 18:27:06 [Shard 0] Запуск проверки неактивных клиентов...
app_1       | 2026/02/11 18:27:07 [Scheduler] Обратный отсчет викторины #37: 52 сек.
app_1       | 2026/02/11 18:27:07 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:07 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:07 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:07 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:07 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:07 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:07 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:07 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:07 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:07 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:08 [Scheduler] Обратный отсчет викторины #37: 51 сек.
app_1       | 2026/02/11 18:27:08 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:08 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:08 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:08 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:08 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:08 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:08 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:08 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:08 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:08 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:09 [Scheduler] Обратный отсчет викторины #37: 50 сек.
app_1       | 2026/02/11 18:27:09 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:09 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:09 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:09 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:09 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:09 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:09 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:09 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:09 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:09 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:10 [Scheduler] Обратный отсчет викторины #37: 49 сек.
app_1       | 2026/02/11 18:27:10 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:10 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:10 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:10 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:10 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:10 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:10 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:10 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:10 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:10 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:11 [Scheduler] Обратный отсчет викторины #37: 48 сек.
app_1       | 2026/02/11 18:27:11 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:11 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:11 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:11 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:11 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:11 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:11 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:11 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:11 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:11 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:12 [Scheduler] Обратный отсчет викторины #37: 47 сек.
app_1       | 2026/02/11 18:27:12 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:12 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:12 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:12 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:12 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:12 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:12 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:12 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:12 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:12 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:13 [Scheduler] Обратный отсчет викторины #37: 46 сек.
app_1       | 2026/02/11 18:27:13 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:13 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:13 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:13 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:13 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:13 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:13 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:13 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:13 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:13 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:14 [Scheduler] Обратный отсчет викторины #37: 45 сек.
app_1       | 2026/02/11 18:27:14 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:14 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:14 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:14 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:14 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:14 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:14 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:14 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:14 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:14 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:15 [Scheduler] Обратный отсчет викторины #37: 44 сек.
app_1       | 2026/02/11 18:27:15 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:15 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:15 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:15 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:15 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:15 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:15 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:15 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:15 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:15 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:16 [Scheduler] Обратный отсчет викторины #37: 43 сек.
app_1       | 2026/02/11 18:27:16 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:16 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:16 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:16 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:16 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:16 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:16 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:16 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:16 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:16 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:17 [Scheduler] Обратный отсчет викторины #37: 42 сек.
app_1       | 2026/02/11 18:27:17 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:17 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:17 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:17 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:17 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:17 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:17 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:17 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:17 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:17 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:18 [Scheduler] Обратный отсчет викторины #37: 41 сек.
app_1       | 2026/02/11 18:27:18 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:18 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:18 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:18 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:18 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:18 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:18 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:18 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:18 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:18 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:19 [Scheduler] Обратный отсчет викторины #37: 40 сек.
app_1       | 2026/02/11 18:27:19 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:19 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:19 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:19 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:19 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:19 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:19 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:19 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:19 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:19 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:20 [Scheduler] Обратный отсчет викторины #37: 39 сек.
app_1       | 2026/02/11 18:27:20 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:20 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:20 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:20 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:20 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:20 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:20 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:20 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:20 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:20 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:21 [Scheduler] Обратный отсчет викторины #37: 38 сек.
app_1       | 2026/02/11 18:27:21 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:21 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:21 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:21 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:21 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:21 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:21 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:21 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:21 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:21 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:22 [Scheduler] Обратный отсчет викторины #37: 37 сек.
app_1       | 2026/02/11 18:27:22 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:22 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:22 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:22 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:22 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:22 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:22 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:22 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:22 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:22 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:23 [Scheduler] Обратный отсчет викторины #37: 36 сек.
app_1       | 2026/02/11 18:27:23 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:23 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:23 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:23 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:23 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:23 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:23 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:23 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:23 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:23 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:24 [Scheduler] Обратный отсчет викторины #37: 35 сек.
app_1       | 2026/02/11 18:27:24 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:24 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:24 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:24 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:24 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:24 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:24 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:24 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:24 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:24 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:25 [Scheduler] Обратный отсчет викторины #37: 34 сек.
app_1       | 2026/02/11 18:27:25 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:25 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:25 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:25 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:25 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:25 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:25 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:25 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:25 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:25 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:26 [Scheduler] Обратный отсчет викторины #37: 33 сек.
app_1       | 2026/02/11 18:27:26 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:26 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:26 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:26 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:26 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:26 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:26 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:26 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:26 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:26 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:27 [Scheduler] Обратный отсчет викторины #37: 32 сек.
app_1       | 2026/02/11 18:27:27 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:27 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:27 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:27 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:27 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:27 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:27 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:27 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:27 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:27 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:28 [Scheduler] Обратный отсчет викторины #37: 31 сек.
app_1       | 2026/02/11 18:27:28 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:28 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:28 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:28 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:28 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:28 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:28 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:28 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:28 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:28 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:29 [Scheduler] Обратный отсчет викторины #37: 30 сек.
app_1       | 2026/02/11 18:27:29 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:29 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:29 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:29 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:29 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:29 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:29 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:29 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:29 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:29 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:30 [Scheduler] Обратный отсчет викторины #37: 29 сек.
app_1       | 2026/02/11 18:27:30 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:30 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:30 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:30 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:30 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:30 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:30 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:30 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:30 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:30 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:31 [Scheduler] Обратный отсчет викторины #37: 28 сек.
app_1       | 2026/02/11 18:27:31 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:31 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:31 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:31 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:31 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:31 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:31 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:31 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:31 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:31 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:32 [Scheduler] Обратный отсчет викторины #37: 27 сек.
app_1       | 2026/02/11 18:27:32 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:32 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:32 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:32 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:32 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:32 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:32 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:32 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:32 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:32 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:33 [Scheduler] Обратный отсчет викторины #37: 26 сек.
app_1       | 2026/02/11 18:27:33 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:33 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:33 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:33 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:33 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:33 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:33 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:33 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:33 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:33 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:34 [Scheduler] Обратный отсчет викторины #37: 25 сек.
app_1       | 2026/02/11 18:27:34 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:34 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:34 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:34 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:34 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:34 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:34 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:34 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:34 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:34 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:35 [Scheduler] Обратный отсчет викторины #37: 24 сек.
app_1       | 2026/02/11 18:27:35 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:35 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:35 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:35 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:35 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:35 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:35 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:35 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:35 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:35 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:36 [Scheduler] Обратный отсчет викторины #37: 23 сек.
app_1       | 2026/02/11 18:27:36 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:36 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:36 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:36 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:36 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:36 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:36 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:36 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:36 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:36 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:37 [Scheduler] Обратный отсчет викторины #37: 22 сек.
app_1       | 2026/02/11 18:27:37 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:37 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:37 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:37 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:37 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:37 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:37 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:37 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:37 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:37 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:38 [Scheduler] Обратный отсчет викторины #37: 21 сек.
app_1       | 2026/02/11 18:27:38 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:38 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:38 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:38 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:38 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:38 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:38 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:38 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:38 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:38 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:39 [Scheduler] Обратный отсчет викторины #37: 20 сек.
app_1       | 2026/02/11 18:27:39 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:39 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:39 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:39 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:39 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:39 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:39 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:39 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:39 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:39 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:40 [Scheduler] Обратный отсчет викторины #37: 19 сек.
app_1       | 2026/02/11 18:27:40 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:40 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:40 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:40 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:40 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:40 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:40 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:40 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:40 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:40 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:41 [Scheduler] Обратный отсчет викторины #37: 18 сек.
app_1       | 2026/02/11 18:27:41 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:41 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:41 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:41 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:41 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:41 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:41 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:41 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:41 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:41 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:42 [Scheduler] Обратный отсчет викторины #37: 17 сек.
app_1       | 2026/02/11 18:27:42 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:42 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:42 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:42 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:42 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:42 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:42 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:42 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:42 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:42 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:43 [Scheduler] Обратный отсчет викторины #37: 16 сек.
app_1       | 2026/02/11 18:27:43 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:43 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:43 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:43 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:43 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:43 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:43 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:43 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:43 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:43 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:44 [Scheduler] Обратный отсчет викторины #37: 15 сек.
app_1       | 2026/02/11 18:27:44 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:44 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:44 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:44 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:44 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:44 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:44 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:44 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:44 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:44 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:45 [Scheduler] Обратный отсчет викторины #37: 14 сек.
app_1       | 2026/02/11 18:27:45 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:45 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:45 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:45 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:45 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:45 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:45 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:45 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:45 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:45 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:46 [Scheduler] Обратный отсчет викторины #37: 13 сек.
app_1       | 2026/02/11 18:27:46 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:46 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:46 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:46 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:46 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:46 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:46 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:46 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:46 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:46 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:47 [Scheduler] Обратный отсчет викторины #37: 12 сек.
app_1       | 2026/02/11 18:27:47 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:47 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:47 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:47 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:47 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:47 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:47 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:47 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:47 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:47 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:48 [Scheduler] Обратный отсчет викторины #37: 11 сек.
app_1       | 2026/02/11 18:27:48 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:48 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:48 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:48 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:48 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:48 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:48 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:48 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:48 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:48 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:49 [Scheduler] Обратный отсчет викторины #37: 10 сек.
app_1       | 2026/02/11 18:27:49 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:49 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:49 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:49 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:49 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:49 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:49 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:49 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:49 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:49 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:50 [Scheduler] Обратный отсчет викторины #37: 9 сек.
app_1       | 2026/02/11 18:27:50 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:50 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:50 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:50 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:50 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:50 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:50 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:50 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:50 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:50 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:51 [Scheduler] Обратный отсчет викторины #37: 8 сек.
app_1       | 2026/02/11 18:27:51 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:51 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:51 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:51 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:51 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:51 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:51 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:51 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:51 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:51 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:52 [Scheduler] Обратный отсчет викторины #37: 7 сек.
app_1       | 2026/02/11 18:27:52 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:52 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:52 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:52 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:52 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:52 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:52 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:52 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:52 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:52 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:53 [Scheduler] Обратный отсчет викторины #37: 6 сек.
app_1       | 2026/02/11 18:27:53 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:53 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:53 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:53 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:53 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:53 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:53 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:53 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:53 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:53 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:54 [Scheduler] Обратный отсчет викторины #37: 5 сек.
app_1       | 2026/02/11 18:27:54 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:54 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:54 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:54 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:54 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:54 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:54 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:54 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:54 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:54 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:55 [Scheduler] Обратный отсчет викторины #37: 4 сек.
app_1       | 2026/02/11 18:27:55 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:55 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:55 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:55 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:55 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:55 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:55 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:55 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:55 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:55 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:56 [Scheduler] Обратный отсчет викторины #37: 3 сек.
app_1       | 2026/02/11 18:27:56 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:56 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:56 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:56 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:56 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:56 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:56 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:56 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:56 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:56 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:57 [Scheduler] Обратный отсчет викторины #37: 2 сек.
app_1       | 2026/02/11 18:27:57 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:57 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:57 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:57 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:57 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:57 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:57 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:57 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:57 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:57 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:58 [Scheduler] Обратный отсчет викторины #37: 1 сек.
app_1       | 2026/02/11 18:27:58 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:27:58 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:58 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:58 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:58 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:countdown
app_1       | 2026/02/11 18:27:58 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:countdown. Buffer len: 0
app_1       | 2026/02/11 18:27:58 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:58 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:58 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:countdown
app_1       | 2026/02/11 18:27:58 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:27:59 [Scheduler] Обратный отсчет завершен для викторины #37, запуск викторины
app_1       | 2026/02/11 18:27:59 [Scheduler] Запуск викторины #37
app_1       | 
postgres_1  | 2026-02-11 18:27:59.007 UTC [33] ERROR:  duplicate key value violates unique constraint "idx_quiz_single_in_progress"
postgres_1  | 2026-02-11 18:27:59.007 UTC [33] DETAIL:  Key ((1))=(1) already exists.
postgres_1  | 2026-02-11 18:27:59.007 UTC [33] STATEMENT:  UPDATE "quizzes" SET "status"=$1,"updated_at"=$2 WHERE id = $3 AND status = $4
app_1       | 2026/02/11 18:27:59 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.410ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | 2026/02/11 18:27:59 [Scheduler] WARNING: Викторина #37 отменена: уже есть другая активная викторина (another quiz is already in progress: quiz #37)
app_1       | 
app_1       | 2026/02/11 18:27:59 /app/internal/repository/postgres/quiz_repo.go:125 ERROR: duplicate key value violates unique constraint "idx_quiz_single_in_progress" (SQLSTATE 23505)
app_1       | [3.228ms] [rows:0] UPDATE "quizzes" SET "status"='in_progress',"updated_at"='2026-02-11 18:27:59.006' WHERE id = 37 AND status = 'scheduled'
app_1       | 2026/02/11 18:27:59 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 
app_1       | 2026/02/11 18:27:59 /app/internal/repository/postgres/quiz_repo.go:87
app_1       | [2.851ms] [rows:1] UPDATE "quizzes" SET "status"='cancelled',"updated_at"='2026-02-11 18:27:59.01' WHERE id = 37
app_1       | 2026/02/11 18:27:59 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:27:59 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:27:59 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:27:59 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Attempting to queue message type: quiz:cancelled
app_1       | 2026/02/11 18:27:59 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:27:59 [Shard 0][Quiz 37][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] Successfully queued message type: quiz:cancelled. Buffer len: 0
app_1       | 2026/02/11 18:27:59 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:27:59 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:cancelled
app_1       | 2026/02/11 18:27:59 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:28:06 RedisPubSub: Published message to channel 'ws:metrics' (Subscribers: 1)
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /quiz/37/lobby HTTP/2.0" 200 5719 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:28:10 WebSocket Client Connection Closed Normally (UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7): websocket: close 1001 (going away)
app_1       | 2026/02/11 18:28:10 WebSocket Client Read Pump STOPPED for UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:28:10 [Shard 0][User 1][Conn e7a717e6-2657-462b-beb8-ce190729bdf7] handleUnregister called
app_1       | 2026/02/11 18:28:10 [Shard 0][Unsub] unsubscribeInternal called for Client 1 (Conn: e7a717e6-2657-462b-beb8-ce190729bdf7) from Quiz 37
app_1       | 2026/02/11 18:28:10 [Shard 0][Unsub] Client 1: Attempting to DELETE client from map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:28:10 [Shard 0][Unsub] Client 1: DELETED client from map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:28:10 [Shard 0][Unsub] Client 1 VERIFIED deletion from map for Quiz 37.
app_1       | 2026/02/11 18:28:10 Client 1 (Conn: e7a717e6-2657-462b-beb8-ce190729bdf7) cleared QuizID
app_1       | 2026/02/11 18:28:10 Shard 0: Client 1 unsubscribed from Quiz 37
app_1       | 2026/02/11 18:28:10 Shard 0: client 1 unregistered
app_1       | 2026/02/11 18:28:10 WebSocket Client Send Channel Closed (UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7)
app_1       | 2026/02/11 18:28:10 WebSocket Client Write Pump STOPPED for UserID: 1, ConnID: e7a717e6-2657-462b-beb8-ce190729bdf7
app_1       | 2026/02/11 18:28:10 [ShardedHub] Отправлено обновление player_count для викторины #37: 0 игроков
app_1       | 2026/02/11 18:28:10 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:28:10 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:28:10 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:28:10 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:28:10 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:player_count
app_1       | 2026/02/11 18:28:10 ShardedHub: Finished broadcasting to Quiz 37
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDQ2NCwiaWF0IjoxNzcwODM0NDA0LCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.VGIacoutTr2SQapclNspKeV1q42PTqW3gNF5te7xiWI HTTP/1.1" 101 4281 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:28:10 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:28:10 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.395ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:28:10.757') OR (is_active = false AND rotated_at > '2026-02-04 18:28:10.757' AND expires_at > '2026-02-11 18:28:10.757') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:28:10 /app/internal/repository/postgres/user_repo.go:33
app_1       | [1.399ms] [rows:1] SELECT * FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:28:10 | 200 |    3.562817ms |      172.18.0.6 | GET      "/api/users/me"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /api/users/me HTTP/2.0" 200 287 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /favicon.ico?favicon.0b3bf435.ico HTTP/2.0" 200 25931 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 
app_1       | 2026/02/11 18:28:10 /app/internal/repository/postgres/quiz_repo.go:35
app_1       | [1.510ms] [rows:1] SELECT * FROM "quizzes" WHERE "quizzes"."id" = 37 ORDER BY "quizzes"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:28:10 | 200 |    1.845657ms |      172.18.0.6 | GET      "/api/quizzes/37"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /api/quizzes/37 HTTP/2.0" 200 318 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 2026/02/11 18:28:10 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:28:10 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 
app_1       | 2026/02/11 18:28:10 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.234ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:28:10.908') OR (is_active = false AND rotated_at > '2026-02-04 18:28:10.908' AND expires_at > '2026-02-11 18:28:10.908') ORDER BY created_at DESC
app_1       | [GIN] 2026/02/11 - 18:28:10 | 200 |    1.680223ms |      172.18.0.6 | GET      "/api/auth/csrf"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:10 +0000] "GET /api/auth/csrf HTTP/2.0" 200 81 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 
app_1       | 2026/02/11 18:28:11 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.973ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:28:11.048') OR (is_active = false AND rotated_at > '2026-02-04 18:28:11.048' AND expires_at > '2026-02-11 18:28:11.048') ORDER BY created_at DESC
app_1       | 2026/02/11 18:28:11 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 2026/02/11 18:28:11 [TokenManager] Successfully retrieved CSRF secret cookie '__Host-csrf-secret'
app_1       | 2026/02/11 18:28:11 [JWT] Токен успешно проверен для пользователя ID=1, Email=temirlan@mail.ru, выдан: 2026-02-11 17:22:15 +0000 UTC
app_1       | 
app_1       | 2026/02/11 18:28:11 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [1.541ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:28:11.049') OR (is_active = false AND rotated_at > '2026-02-04 18:28:11.049' AND expires_at > '2026-02-11 18:28:11.049') ORDER BY created_at DESC
app_1       | 
app_1       | 2026/02/11 18:28:11 /app/internal/repository/postgres/jwt_key_repo.go:99
app_1       | [3.610ms] [rows:1] SELECT * FROM "jwt_keys" WHERE is_active = true AND expires_at > '2026-02-11 18:28:11.052' ORDER BY created_at DESC,"jwt_keys"."id" LIMIT 1
app_1       | [GIN] 2026/02/11 - 18:28:11 | 200 |    7.890651ms |      172.18.0.6 | POST     "/api/auth/ws-ticket"
app_1       | 2026/02/11 18:28:11 [JWT] WS-тикет успешно сгенерирован для пользователя ID=1 с ключом ID=a488fda381b19b17, истекает через 1m0s
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "POST /api/auth/ws-ticket HTTP/2.0" 200 363 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "GET /?_rsc=1bjrh HTTP/2.0" 200 330 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "GET /?_rsc=35dqp HTTP/2.0" 200 591 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "GET /?_rsc=13zrr HTTP/2.0" 200 1137 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "GET /?_rsc=1p9xx HTTP/2.0" 200 2351 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
nginx_1     | 185.229.121.163 - - [11/Feb/2026:18:28:11 +0000] "GET /?_rsc=117yg HTTP/2.0" 200 532 "https://qazaquiz.duckdns.org/quiz/37/lobby" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" "-"
app_1       | 
app_1       | 2026/02/11 18:28:11 /app/internal/repository/postgres/jwt_key_repo.go:131
app_1       | [0.867ms] [rows:1] SELECT * FROM "jwt_keys" WHERE (is_active = true AND expires_at > '2026-02-11 18:28:11.482') OR (is_active = false AND rotated_at > '2026-02-04 18:28:11.482' AND expires_at > '2026-02-11 18:28:11.482') ORDER BY created_at DESC
app_1       | 2026/02/11 18:28:11 WebSocket: Connection upgraded for UserID: 1
app_1       | 2026/02/11 18:28:11 WebSocket: registering client 1 in ShardedHub
app_1       | 2026/02/11 18:28:11 Shard 0: client 1 registered
app_1       | 2026/02/11 18:28:11 WebSocket: client 1 fully registered, starting pumps
app_1       | 2026/02/11 18:28:11 WebSocket Client Read Pump STARTED for UserID: 1, ConnID: 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2
app_1       | 2026/02/11 18:28:11 WebSocket Client Write Pump STARTED for UserID: 1, ConnID: 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2
app_1       | [GIN] 2026/02/11 - 18:28:11 | 200 |    2.051936ms |      172.18.0.6 | GET      "/ws?ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6ImE0ODhmZGEzODFiMTliMTciLCJ0eXAiOiJKV1QifQ.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlbWlybGFuQG1haWwucnUiLCJyb2xlIjoiIiwiaXNzIjoidHJpdmlhLWFwaSIsInN1YiI6IjEiLCJhdWQiOlsidHJpdmlhLXdzIl0sImV4cCI6MTc3MDgzNDU1MSwiaWF0IjoxNzcwODM0NDkxLCJ1c2FnZSI6IndlYnNvY2tldF9hdXRoIn0.j_NLj7HV4BG_z-9Rs_5rnk7MZN43FlPuLl-BqAdUCM0"
app_1       | 2026/02/11 18:28:11 Client 1 (Conn: 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2) set QuizID to 37
app_1       | 2026/02/11 18:28:11 [WSHandler] User 1 set QuizID to 37
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] SubscribeToQuiz called for Client 1 (Conn: 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2) to Quiz 37
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1: Old QuizID is 37, New QuizID is 37
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1 already has atomic QuizID 37. Ensuring map presence.
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1: Attempting LoadOrStore for quiz map 37
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1: Found existing map for quiz 37
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1: Attempting to STORE client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1: STORED client in map for Quiz 37 (Map: 0xc0007f2fc0)
app_1       | 2026/02/11 18:28:11 [Shard 0][Sub] Client 1 VERIFIED in map for Quiz 37 immediately after Store.
app_1       | 2026/02/11 18:28:11 [WebSocketManager] Клиент 1 подписан на викторину 37 в шарде 0
app_1       | 2026/02/11 18:28:11 [AnswerProcessor] Пользователь #1 отметился как готовый к викторине #37
app_1       | 2026/02/11 18:28:11 [AnswerProcessor] Пользователь #1 добавлен в participants Set викторины #37
app_1       | 2026/02/11 18:28:11 ShardedHub: Broadcasting message to Quiz 37 across all shards
app_1       | 2026/02/11 18:28:11 [Shard 1][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:28:11 [Shard 0][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:28:11 [Shard 0][Quiz 37][Range] Iterating over client: User 1, Conn 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2
app_1       | 2026/02/11 18:28:11 [Shard 3][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:28:11 [Shard 0][Quiz 37][User 1][Conn 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2] Attempting to queue message type: quiz:user_ready
app_1       | 2026/02/11 18:28:11 [Shard 2][Quiz 37] BroadcastToQuiz called. Message type: quiz:user_ready
app_1       | 2026/02/11 18:28:11 [Shard 0][Quiz 37][User 1][Conn 7cf160a6-6ebf-40c1-8b2c-7f0469539ac2] Successfully queued message type: quiz:user_ready. Buffer len: 0
app_1       | 2026/02/11 18:28:11 Shard 0: Message broadcast to 1 clients in Quiz 37
app_1       | 2026/02/11 18:28:11 ShardedHub: Finished broadcasting to Quiz 37
app_1       | 2026/02/11 18:28:11 [AnswerProcessor] Успешно отправлено событие о готовности пользователя #1 к викторине #37 (игроков онлайн: 1)
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:19 +0000] "GET /.env HTTP/1.1" 301 169 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 Chrome/120.0.0.0" "-"
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:19 +0000] "\x16\x03\x01\x05\xA8\x01\x00\x05\xA4\x03\x03\xE4\x91\x01\x1Dd\x8F\xC9" 400 157 "-" "-" "-"
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:19 +0000] "GET /.env HTTP/1.1" 404 8689 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/120.0.0.0" "-"
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:21 +0000] "\x16\x03\x01\x05\xA8\x01\x00\x05\xA4\x03\x03\x87hk;)\x99\xD0\x8B\xEFW\x86\xC9\x08\xC2\xE0\xCD5]X\x9B\xF6/\xFDO\x07%\x0B\xA5\x1A\x16&\xD0 D" 400 157 "-" "-" "-"
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:22 +0000] "GET /.env HTTP/1.1" 400 657 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/120.0.0.0" "-"
nginx_1     | 34.158.168.101 - - [11/Feb/2026:18:28:22 +0000] "GET / HTTP/1.1" 400 657 "-" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/120.0.0.0" "-"
