# –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–í–µ—Ä—Å–∏—è:** 1.1  
**–¶–µ–ª—å:** 0.5% –∏–≥—Ä–æ–∫–æ–≤ –¥–æ—Ö–æ–¥—è—Ç –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞  
**–†–µ–∂–∏–º:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (real-time –∞–¥–∞–ø—Ç–∞—Ü–∏—è)

---

## üéØ –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

### Target Pass Rates (—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ 0.5%):

| # | Target Pass Rate | Cumulative | –ò–∑ 1000 –ø—Ä–æ–π–¥—ë—Ç | –£—Ä–æ–≤–µ–Ω—å |
|---|------------------|------------|-----------------|---------|
| 1 | 0.90 | 90.0% | 900 | Very Easy |
| 2 | 0.85 | 76.5% | 765 | Easy |
| 3 | 0.78 | 59.7% | 597 | Easy |
| 4 | 0.70 | 41.8% | 418 | Medium |
| 5 | 0.62 | 25.9% | 259 | Medium |
| 6 | 0.55 | 14.2% | 142 | Hard |
| 7 | 0.48 | 6.8% | 68 | Hard |
| 8 | 0.42 | 2.9% | 29 | Very Hard |
| 9 | 0.36 | 1.0% | 10 | Very Hard |
| 10 | 0.50 | **0.52%** | **5** | Very Hard |

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```
0.90 √ó 0.85 √ó 0.78 √ó 0.70 √ó 0.62 √ó 0.55 √ó 0.48 √ó 0.42 √ó 0.36 √ó 0.50 = 0.00517 ‚âà 0.52%
```

> ‚úÖ –ü—Ä–∏ 1000 —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö ‚Äî –ø—Ä–∏–º–µ—Ä–Ω–æ 5 –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π.

---

## üè∑Ô∏è 5 —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π Pass Rate | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ |
|----|----------|---------------------|----------------|
| 1 | `very_easy` | 85-95% | Warm-up, –æ—á–µ–≤–∏–¥–Ω—ã–π –æ—Ç–≤–µ—Ç, —Ä–∞–∑–º–∏–Ω–∫–∞ |
| 2 | `easy` | 70-85% | –ù—É–∂–Ω–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å, –Ω–æ –±–µ–∑ –ª–æ–≤—É—à–µ–∫ |
| 3 | `medium` | 55-70% | –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å–æ–º–Ω–µ–Ω–∏—è |
| 4 | `hard` | 40-55% | –ü–æ—Ö–æ–∂–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –ª–æ–≤—É—à–∫–∏, –¥–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ |
| 5 | `very_hard` | 25-45% | –ö–æ–Ω—Ç—Ä–∏–Ω—Ç—É–∏—Ç–∏–≤, –º–µ–ª–∫–∏–µ —Ä–∞–∑–ª–∏—á–∏—è, —Ä–µ–∑–Ω—è |

### –ú–∞–ø–ø–∏–Ω–≥: –í–æ–ø—Ä–æ—Å ‚Üí –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å

```
–í–æ–ø—Ä–æ—Å 1  ‚Üí Very Easy (1)  ‚Äî –í–∫–∞—Ç
–í–æ–ø—Ä–æ—Å 2  ‚Üí Easy (2)       ‚Äî –†–∞–∑–º–∏–Ω–∫–∞
–í–æ–ø—Ä–æ—Å 3  ‚Üí Easy (2)       ‚Äî –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–¥–∞—Ä–æ–∫
–í–æ–ø—Ä–æ—Å 4  ‚Üí Medium (3)     ‚Äî –°–æ–º–Ω–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è
–í–æ–ø—Ä–æ—Å 5  ‚Üí Medium (3)     ‚Äî –ú–∞—Å—Å–æ–≤—ã–µ –æ—à–∏–±–∫–∏
–í–æ–ø—Ä–æ—Å 6  ‚Üí Hard (4)       ‚Äî –î–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
–í–æ–ø—Ä–æ—Å 7  ‚Üí Hard (4)       ‚Äî –õ–æ–≤—É—à–∫–∏
–í–æ–ø—Ä–æ—Å 8  ‚Üí Very Hard (5)  ‚Äî –ö–æ–Ω—Ç—Ä–∏–Ω—Ç—É–∏—Ç–∏–≤
–í–æ–ø—Ä–æ—Å 9  ‚Üí Very Hard (5)  ‚Äî –ü–æ—á—Ç–∏ —Ñ–∏–Ω–∞–ª
–í–æ–ø—Ä–æ—Å 10 ‚Üí Very Hard (5)  ‚Äî –†–µ–∑–Ω—è
```

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

### –ü—Ä–∏–Ω—Ü–∏–ø:
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç **actual pass rate** —Å **target pass rate**.
- –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –ë–û–õ–¨–®–ï —á–µ–º –Ω—É–∂–Ω–æ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –°–õ–û–ñ–ù–ï–ï
- –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –ú–ï–ù–¨–®–ï —á–µ–º –Ω—É–∂–Ω–æ ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –õ–ï–ì–ß–ï

### –§–æ—Ä–º—É–ª–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:

```
deviation = actual_pass_rate - target_pass_rate

if deviation > +0.10:
    difficulty = base_difficulty + 1  (—Å–ª–æ–∂–Ω–µ–µ)
elif deviation < -0.10:
    difficulty = base_difficulty - 1  (–ª–µ–≥—á–µ)
else:
    difficulty = base_difficulty      (–ø–æ –ø–ª–∞–Ω—É)

difficulty = clamp(difficulty, 1, 5)
```

### –ü—Ä–∏–º–µ—Ä:
- –í–æ–ø—Ä–æ—Å 4, target = 70%, actual = 85%
- deviation = +15% > +10%
- base_difficulty = 3 (Medium)
- adjusted_difficulty = 4 (Hard) ‚Äî –±–µ—Ä—ë–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å

---

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Go)

```go
type DifficultyConfig struct {
    // Target pass rates –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ (–∏–Ω–¥–µ–∫—Å 0 = –≤–æ–ø—Ä–æ—Å 1)
    TargetPassRates [10]float64
    
    // –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
    BaseDifficultyMap [10]int
    
    // –ü–æ—Ä–æ–≥ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (10% = 0.10)
    AdaptationThreshold float64
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
    MinDifficulty int  // 1
    MaxDifficulty int  // 5
}

var DefaultDifficultyConfig = DifficultyConfig{
    TargetPassRates: [10]float64{
        0.90, 0.85, 0.78, 0.70, 0.62,
        0.55, 0.48, 0.42, 0.36, 0.50,
    },
    BaseDifficultyMap: [10]int{
        1, 2, 2, 3, 3,
        4, 4, 5, 5, 5,
    },
    AdaptationThreshold: 0.10,
    MinDifficulty: 1,
    MaxDifficulty: 5,
}
```

---

## üìà –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ pass rate –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### Redis –∫–ª—é—á–∏:

```
quiz:{quizID}:q{N}:answered   ‚Äî —Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–∏–ª–æ –Ω–∞ –≤–æ–ø—Ä–æ—Å N
quiz:{quizID}:q{N}:passed     ‚Äî —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—à–ª–æ –≤–æ–ø—Ä–æ—Å N (–ø—Ä–∞–≤–∏–ª—å–Ω–æ + –≤ —Å—Ä–æ–∫)
```

### –†–∞—Å—á—ë—Ç:
```go
func getActualPassRate(quizID uint, questionNum int) float64 {
    answered := redis.Get("quiz:{quizID}:q{N}:answered")
    passed := redis.Get("quiz:{quizID}:q{N}:passed")
    
    if answered == 0 {
        return 1.0  // –ù–∏–∫—Ç–æ –Ω–µ –æ—Ç–≤–µ—á–∞–ª ‚Äî 100%
    }
    return float64(passed) / float64(answered)
}
```

---

## üéõÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `DifficultyConfig`:
- –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å target pass rates –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (—á–µ—Ä–µ–∑ config.yaml)
- –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ—Ä–æ–≥ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
- –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å‚Üí—Å–ª–æ–∂–Ω–æ—Å—Ç—å

---

## üìã –†–µ–∑—é–º–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –¶–µ–ª–µ–≤–æ–π % —Ñ–∏–Ω–∞–ª–∏—Å—Ç–æ–≤ | 0.5% |
| –£—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ | 5 |
| –†–µ–∂–∏–º | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (real-time) |
| –ü–æ—Ä–æ–≥ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ | ¬±10% |
| –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö | Redis (answered/passed per question) |
